{"file_contents":{"design_guidelines.md":{"content":"# SISU Soccer Academy Transportation System Design Guidelines\n\n## Design Approach\n**Selected Approach:** Reference-Based Design inspired by transportation/logistics applications like Uber, Lyft driver apps, and school management systems like ClassDojo for parent engagement, with SISU Soccer Academy branding.\n\n**Key Design Principles:**\n- Safety-first visual hierarchy emphasizing child information\n- Clear time-sensitive information display\n- Mobile-first responsive design for parent and driver use\n- Real-time status indicators with high contrast\n- SISU brand identity with teal color scheme\n\n## Core Design Elements\n\n### A. Color Palette\n**Primary Colors:**\n- Brand Primary: 186 37% 44% (SISU teal for trust/professionalism)\n- Success Green: 142 76% 36% (available seats, confirmed bookings)\n- Warning Orange: 38 92% 50% (limited capacity, alerts)\n- Danger Red: 0 84% 60% (full capacity, cancellations)\n\n**Brand Identity:**\n- SISU Logo: Displayed in header with teal and gray color scheme\n- Typography: Modern, clean sans-serif (Inter) aligned with SISU's professional identity\n\n**Dark Mode:**\n- Background: 222 84% 5%\n- Surface: 217 33% 17%\n- Text Primary: 210 40% 98%\n- Primary (SISU Teal): 186 37% 44% (consistent across light and dark modes)\n\n### B. Typography\n**Font Families:** Inter (primary), JetBrains Mono (time displays, capacity counters)\n- Headings: 600-700 weight\n- Body: 400-500 weight\n- Time/Numbers: 500-600 weight, tabular numbers\n\n### C. Layout System\n**Tailwind Spacing:** Primary units of 2, 4, and 8 (p-2, m-4, h-8, gap-4)\n- Card padding: p-4 or p-6 for content cards\n- Section spacing: mb-8 between major sections\n- Button/form spacing: gap-2 for tight groups, gap-4 for sections\n\n### D. Component Library\n\n**Core Components:**\n- Route cards with stop timeline visualization\n- Time slot picker with availability indicators\n- Driver status toggle with location activation\n- Real-time capacity meters (14/14 filled circles)\n- Booking confirmation cards with QR codes\n- Interactive map component for van tracking\n\n**Navigation:**\n- Bottom tab navigation for mobile (Parents/Drivers)\n- Sidebar navigation for admin dashboard\n- Quick action floating buttons for same-day cancellations\n\n**Forms:**\n- Multi-step booking wizard\n- Date range picker for monthly scheduling\n- Stop selection with visual route map\n- Emergency contact quick-access buttons\n\n**Data Displays:**\n- Daily manifests with student photos and stop sequences\n- Capacity overview with traffic light color system\n- Booking history with status badges\n- Route timeline with estimated arrival times\n\n**Status Indicators:**\n- Live tracking dots (pulsing animation when active)\n- Seat availability progress bars\n- Route status badges (Not Started, In Progress, Completed)\n- Alert notification badges with count indicators\n\n### E. Mobile Optimization\n- Large touch targets (min 44px)\n- Swipe gestures for calendar navigation\n- Pull-to-refresh for real-time updates\n- Offline mode indicators for poor connectivity areas\n\n### F. Real-Time Features\n- WebSocket connection indicators\n- Live capacity updates with smooth number transitions\n- GPS tracking activation with clear privacy messaging\n- Push notification styling consistent with app theme\n\n## Images\nNo large hero images needed. Focus on:\n- Small student profile photos (circular, 32px-40px)\n- Van icons and route illustrations\n- Map integration for live tracking\n- Simple iconography for stops and time slots\n\nThe design emphasizes functionality and safety over decorative elements, with clear information hierarchy and mobile-first interactions suitable for busy parents and drivers.","size_bytes":3621},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        success: \"hsl(var(--chart-1) / <alpha-value>)\",\n        warning: \"hsl(var(--chart-2) / <alpha-value>)\",\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4162},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport cookieParser from \"cookie-parser\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\napp.use(cookieParser());\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      \n      // Don't log response bodies for auth endpoints to prevent token leakage\n      if (capturedJsonResponse && !path.startsWith(\"/api/auth\")) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2252},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { \n  AuthService, \n  requireAuth, \n  requireParent, \n  requireDriver, \n  requireParentDataAccess,\n  requireDriverDataAccess \n} from \"./auth\";\nimport { \n  insertUserSchema, \n  insertStudentSchema, \n  insertBookingSchema,\n  insertStopSchema \n} from \"@shared/schema\";\nimport { z } from \"zod\";\n\n// Validation schemas\nconst loginSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(6)\n});\n\nconst signupSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(6),\n  name: z.string().min(2),\n  phone: z.string().min(10)\n});\n\nconst updateBookingSchema = z.object({\n  status: z.enum([\"confirmed\", \"cancelled\"])\n});\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // ============= AUTHENTICATION ROUTES =============\n  \n  // Signup endpoint (parent registration)\n  app.post('/api/auth/signup', async (req, res) => {\n    try {\n      console.log('Signup attempt for:', req.body.email);\n      const { email, password, name, phone } = signupSchema.parse(req.body);\n      \n      // Check if user already exists\n      const existingUser = await storage.getUserByEmail(email);\n      if (existingUser) {\n        return res.status(400).json({ error: 'An account with this email already exists' });\n      }\n      \n      // Hash password and create new parent user with pending status\n      const passwordHash = await AuthService.hashPassword(password);\n      const user = await storage.createUser({\n        email,\n        passwordHash,\n        name,\n        phone,\n        role: 'parent',\n        status: 'pending',\n        isActive: true\n      });\n      \n      console.log('New parent account created (pending approval):', user.email);\n      \n      // Don't create a session - parent must wait for driver approval\n      // Return success message without logging them in\n      \n      res.status(201).json({ \n        message: 'Account created successfully! Your account is pending driver approval. You will be able to log in once approved.',\n        status: 'pending'\n      });\n    } catch (error: any) {\n      console.error('Signup error:', error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ error: 'Invalid registration data' });\n      }\n      res.status(500).json({ error: 'Failed to create account' });\n    }\n  });\n  \n  // Login endpoint\n  app.post('/api/auth/login', async (req, res) => {\n    try {\n      console.log('Login attempt for:', req.body.email);\n      const { email, password } = loginSchema.parse(req.body);\n      \n      const user = await AuthService.authenticateUser(email, password);\n      if (!user) {\n        console.log('Authentication failed for:', email);\n        return res.status(401).json({ error: 'Invalid email or password' });\n      }\n      \n      // Check if parent account is approved\n      if (user.role === 'parent' && user.status !== 'approved') {\n        console.log('Login blocked - account not approved:', email);\n        if (user.status === 'pending') {\n          return res.status(403).json({ error: 'Your account is pending driver approval. Please wait for approval before logging in.' });\n        } else if (user.status === 'rejected') {\n          return res.status(403).json({ error: 'Your account has been rejected. Please contact SISU Soccer Academy for assistance.' });\n        }\n      }\n      \n      const sessionId = await AuthService.createSession(user.id);\n      if (process.env.NODE_ENV === 'development') {\n        console.log('Session created for user:', user.email);\n      }\n      \n      // Set secure cookie (httpOnly prevents XSS)\n      const cookieOptions = {\n        httpOnly: true,\n        secure: process.env.NODE_ENV === 'production',\n        sameSite: (process.env.NODE_ENV === 'production' ? 'strict' : 'lax') as 'strict' | 'lax',\n        path: '/',\n        maxAge: 7 * 24 * 60 * 60 * 1000 // 7 days\n      };\n      \n      res.cookie('sessionId', sessionId, cookieOptions);\n      \n      res.json({ \n        user: { \n          id: user.id, \n          name: user.name, \n          email: user.email, \n          role: user.role \n        }\n      });\n    } catch (error) {\n      console.error('Login error:', error);\n      res.status(400).json({ error: 'Invalid request data' });\n    }\n  });\n  \n  // Logout endpoint\n  app.post('/api/auth/logout', requireAuth, async (req, res) => {\n    try {\n      if (req.sessionId) {\n        await AuthService.logout(req.sessionId);\n      }\n      res.clearCookie('sessionId');\n      res.json({ message: 'Logged out successfully' });\n    } catch (error) {\n      console.error('Logout error:', error);\n      res.status(500).json({ error: 'Logout failed' });\n    }\n  });\n  \n  // Get current user endpoint\n  app.get('/api/auth/me', requireAuth, async (req, res) => {\n    res.json({ \n      user: { \n        id: req.user!.id, \n        name: req.user!.name, \n        email: req.user!.email, \n        role: req.user!.role \n      } \n    });\n  });\n  \n  // ============= PARENT-ONLY ROUTES =============\n  \n  // Get parent's students\n  app.get('/api/students', requireAuth, requireParentDataAccess, async (req, res) => {\n    try {\n      const students = await storage.getStudentsByParent(req.parentId!);\n      res.json({ students });\n    } catch (error) {\n      console.error('Get students error:', error);\n      res.status(500).json({ error: 'Failed to fetch students' });\n    }\n  });\n  \n  // Create new student (parent only)\n  app.post('/api/students', requireAuth, requireParentDataAccess, async (req, res) => {\n    try {\n      const studentData = insertStudentSchema.parse({\n        ...req.body,\n        parentId: req.parentId // Ensure parent can only create their own students\n      });\n      \n      const student = await storage.createStudent(studentData);\n      res.status(201).json({ student });\n    } catch (error) {\n      console.error('Create student error:', error);\n      res.status(400).json({ error: 'Invalid student data' });\n    }\n  });\n  \n  // Get parent's bookings\n  app.get('/api/bookings', requireAuth, requireParentDataAccess, async (req, res) => {\n    try {\n      const bookings = await storage.getBookingsByParent(req.parentId!);\n      res.json({ bookings });\n    } catch (error) {\n      console.error('Get bookings error:', error);\n      res.status(500).json({ error: 'Failed to fetch bookings' });\n    }\n  });\n  \n  // Create new booking (parent only)\n  app.post('/api/bookings', requireAuth, requireParentDataAccess, async (req, res) => {\n    try {\n      // Verify the student belongs to the parent\n      const parentStudents = await storage.getStudentsByParent(req.parentId!);\n      const studentIds = parentStudents.map(s => s.id);\n      \n      if (!studentIds.includes(req.body.studentId)) {\n        return res.status(403).json({ error: 'Cannot book for student that does not belong to you' });\n      }\n      \n      // Convert date string to Date object for Zod validation\n      const bookingData = insertBookingSchema.parse({\n        ...req.body,\n        date: new Date(req.body.date)\n      });\n      const booking = await storage.createBooking(bookingData);\n      res.status(201).json({ booking });\n    } catch (error) {\n      console.error('Create booking error:', error);\n      res.status(400).json({ error: 'Invalid booking data' });\n    }\n  });\n  \n  // Update booking (parent only - mainly for cancellations)\n  app.patch('/api/bookings/:id', requireAuth, requireParentDataAccess, async (req, res) => {\n    try {\n      const { id } = req.params;\n      const updates = updateBookingSchema.parse(req.body);\n      \n      // Verify the booking belongs to the parent\n      const parentBookings = await storage.getBookingsByParent(req.parentId!);\n      const parentBookingIds = parentBookings.map(b => b.id);\n      \n      if (!parentBookingIds.includes(id)) {\n        return res.status(403).json({ error: 'Cannot modify booking that does not belong to you' });\n      }\n      \n      const booking = await storage.updateBooking(id, updates);\n      if (!booking) {\n        return res.status(404).json({ error: 'Booking not found' });\n      }\n      \n      res.json({ booking });\n    } catch (error) {\n      console.error('Update booking error:', error);\n      res.status(400).json({ error: 'Invalid booking update data' });\n    }\n  });\n  \n  // ============= DRIVER-ONLY ROUTES =============\n  \n  // Get driver's assigned routes\n  app.get('/api/driver/assignments', requireAuth, requireDriverDataAccess, async (req, res) => {\n    try {\n      const assignments = await storage.getDriverAssignments(req.driverId!);\n      res.json({ assignments });\n    } catch (error) {\n      console.error('Get driver assignments error:', error);\n      res.status(500).json({ error: 'Failed to fetch driver assignments' });\n    }\n  });\n  \n  // Get pending parent accounts (driver only)\n  app.get('/api/driver/pending-parents', requireAuth, requireDriverDataAccess, async (req, res) => {\n    try {\n      const pendingParents = await storage.getPendingParents();\n      res.json({ parents: pendingParents });\n    } catch (error) {\n      console.error('Get pending parents error:', error);\n      res.status(500).json({ error: 'Failed to fetch pending parents' });\n    }\n  });\n  \n  // Approve parent account (driver only)\n  app.put('/api/driver/approve-parent/:parentId', requireAuth, requireDriverDataAccess, async (req, res) => {\n    try {\n      const { parentId } = req.params;\n      const parent = await storage.approveParent(parentId);\n      \n      if (!parent) {\n        return res.status(404).json({ error: 'Parent not found' });\n      }\n      \n      console.log(`Driver approved parent account: ${parent.email}`);\n      res.json({ parent, message: 'Parent account approved successfully' });\n    } catch (error) {\n      console.error('Approve parent error:', error);\n      res.status(500).json({ error: 'Failed to approve parent' });\n    }\n  });\n  \n  // Reject parent account (driver only)\n  app.put('/api/driver/reject-parent/:parentId', requireAuth, requireDriverDataAccess, async (req, res) => {\n    try {\n      const { parentId } = req.params;\n      const parent = await storage.rejectParent(parentId);\n      \n      if (!parent) {\n        return res.status(404).json({ error: 'Parent not found' });\n      }\n      \n      console.log(`Driver rejected parent account: ${parent.email}`);\n      res.json({ parent, message: 'Parent account rejected' });\n    } catch (error) {\n      console.error('Reject parent error:', error);\n      res.status(500).json({ error: 'Failed to reject parent' });\n    }\n  });\n\n  // Get all confirmed bookings for driver view\n  app.get('/api/driver/bookings', requireAuth, requireDriverDataAccess, async (req, res) => {\n    try {\n      const allBookings = await storage.getAllBookings();\n      console.log(`Driver bookings API: Found ${allBookings.length} total bookings`);\n      \n      const confirmedBookings = allBookings.filter(booking => booking.status === 'confirmed');\n      console.log(`Driver bookings API: Found ${confirmedBookings.length} confirmed bookings`);\n      console.log('Confirmed bookings:', confirmedBookings.map(b => `${b.id}: ${b.date} ${b.timeSlot} ${b.status}`));\n      \n      // Return enriched bookings like parent endpoint but for all confirmed bookings\n      const enrichedBookings = await Promise.all(\n        confirmedBookings\n          .map(async (booking) => {\n            const student = await storage.getStudentById(booking.studentId);\n            const route = await storage.getRoute(booking.routeId);\n            const stop = await storage.getStop(booking.stopId);\n            \n            const studentName = student?.name || 'Unknown Student';\n            const routeName = route?.name || 'Unknown Route';\n            const stopName = stop?.name || 'Unknown Stop';\n            \n            // Format date for display\n            const bookingDate = new Date(booking.date);\n            const formattedDate = bookingDate.toLocaleDateString('en-US', {\n              weekday: 'long',\n              year: 'numeric',\n              month: 'long',\n              day: 'numeric'\n            });\n            \n            // Get time from stop based on time slot\n            let timeString = '';\n            if (stop) {\n              const timeSlotTime = booking.timeSlot === 'morning' \n                ? stop.morningPickupTime \n                : stop.afternoonDropoffTime;\n              \n              if (timeSlotTime) {\n                const [hours, minutes] = timeSlotTime.split(':');\n                const hour24 = parseInt(hours);\n                const hour12 = hour24 === 0 ? 12 : hour24 > 12 ? hour24 - 12 : hour24;\n                const ampm = hour24 >= 12 ? 'PM' : 'AM';\n                timeString = `${hour12}:${minutes} ${ampm}`;\n              }\n            }\n            \n            return {\n              ...booking,\n              studentName,\n              routeName,\n              stopName,\n              date: formattedDate,\n              time: timeString\n            };\n          })\n      );\n      \n      res.json({ bookings: enrichedBookings });\n    } catch (error) {\n      console.error('Get driver bookings error:', error);\n      res.status(500).json({ error: 'Failed to fetch bookings for driver' });\n    }\n  });\n  \n  // ============= PUBLIC/SHARED ROUTES =============\n  \n  // Get all routes (public - needed for booking)\n  app.get('/api/routes', async (req, res) => {\n    try {\n      const routes = await storage.getRoutes();\n      const allBookings = await storage.getAllBookings();\n      \n      // Include stops for each route with booking counts\n      const routesWithStops = await Promise.all(\n        routes.map(async (route) => {\n          const stops = await storage.getStopsByRoute(route.id);\n          \n          // Calculate booked seats for each stop\n          const stopsWithBookings = stops.map(stop => {\n            const confirmedBookings = allBookings.filter(booking => \n              booking.stopId === stop.id && booking.status === 'confirmed'\n            );\n            return {\n              ...stop,\n              bookedSeats: confirmedBookings.length\n            };\n          });\n          \n          return { ...route, stops: stopsWithBookings };\n        })\n      );\n      res.json({ routes: routesWithStops });\n    } catch (error) {\n      console.error('Get routes error:', error);\n      res.status(500).json({ error: 'Failed to fetch routes' });\n    }\n  });\n  \n  // Get route details with stops (public - needed for booking)\n  app.get('/api/routes/:id', async (req, res) => {\n    try {\n      const { id } = req.params;\n      const route = await storage.getRoute(id);\n      if (!route) {\n        return res.status(404).json({ error: 'Route not found' });\n      }\n      \n      const stops = await storage.getStopsByRoute(id);\n      res.json({ route: { ...route, stops } });\n    } catch (error) {\n      console.error('Get route details error:', error);\n      res.status(500).json({ error: 'Failed to fetch route details' });\n    }\n  });\n\n  // Update route details (driver access)\n  app.put('/api/routes/:id', requireAuth, requireDriver, requireDriverDataAccess, async (req, res) => {\n    try {\n      const { id } = req.params;\n      const updateData = z.object({\n        capacity: z.number().min(1).max(50).optional()\n      }).parse(req.body);\n      \n      const route = await storage.getRoute(id);\n      if (!route) {\n        return res.status(404).json({ error: 'Route not found' });\n      }\n      \n      const updatedRoute = await storage.updateRoute(id, updateData);\n      res.json({ route: updatedRoute });\n    } catch (error) {\n      console.error('Update route error:', error);\n      if ((error as any).name === 'ZodError') {\n        res.status(400).json({ error: 'Invalid route data', details: (error as any).errors });\n      } else {\n        res.status(500).json({ error: 'Failed to update route' });\n      }\n    }\n  });\n  \n  // ============= DRIVER STOP MANAGEMENT ROUTES =============\n  \n  // Get stops for a route (driver access)\n  app.get('/api/driver/routes/:routeId/stops', requireAuth, requireDriver, requireDriverDataAccess, async (req, res) => {\n    try {\n      const { routeId } = req.params;\n      const stops = await storage.getStopsByRoute(routeId);\n      res.json({ stops });\n    } catch (error) {\n      console.error('Get route stops error:', error);\n      res.status(500).json({ error: 'Failed to fetch route stops' });\n    }\n  });\n  \n  // Create a new stop (driver access)\n  app.post('/api/driver/routes/:routeId/stops', requireAuth, requireDriver, requireDriverDataAccess, async (req, res) => {\n    try {\n      const { routeId } = req.params;\n      const stopData = insertStopSchema.parse({ ...req.body, routeId });\n      \n      const stop = await storage.createStop(stopData);\n      res.status(201).json({ stop });\n    } catch (error) {\n      console.error('Create stop error:', error);\n      if ((error as any).name === 'ZodError') {\n        res.status(400).json({ error: 'Invalid stop data', details: (error as any).errors });\n      } else {\n        res.status(500).json({ error: 'Failed to create stop' });\n      }\n    }\n  });\n  \n  // Update a stop (driver access)\n  app.put('/api/driver/stops/:stopId', requireAuth, requireDriver, requireDriverDataAccess, async (req, res) => {\n    try {\n      const { stopId } = req.params;\n      const updates = insertStopSchema.partial().parse(req.body);\n      \n      const stop = await storage.updateStop(stopId, updates);\n      if (!stop) {\n        return res.status(404).json({ error: 'Stop not found' });\n      }\n      \n      res.json({ stop });\n    } catch (error) {\n      console.error('Update stop error:', error);\n      if ((error as any).name === 'ZodError') {\n        res.status(400).json({ error: 'Invalid update data', details: (error as any).errors });\n      } else {\n        res.status(500).json({ error: 'Failed to update stop' });\n      }\n    }\n  });\n  \n  // Delete a stop (driver access)\n  app.delete('/api/driver/stops/:stopId', requireAuth, requireDriver, requireDriverDataAccess, async (req, res) => {\n    try {\n      const { stopId } = req.params;\n      const deleted = await storage.deleteStop(stopId);\n      \n      if (!deleted) {\n        return res.status(404).json({ error: 'Stop not found' });\n      }\n      \n      res.json({ message: 'Stop deleted successfully' });\n    } catch (error) {\n      console.error('Delete stop error:', error);\n      res.status(500).json({ error: 'Failed to delete stop' });\n    }\n  });\n  \n  // ============= SECURITY TEST ENDPOINT (Remove in production) =============\n  \n  // This endpoint helps verify that role-based access control is working\n  app.get('/api/test/parent-only', requireAuth, requireParent, (req, res) => {\n    res.json({ message: 'Success: You have parent access', userId: req.user!.id });\n  });\n  \n  app.get('/api/test/driver-only', requireAuth, requireDriver, (req, res) => {\n    res.json({ message: 'Success: You have driver access', userId: req.user!.id });\n  });\n  \n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":19079},"server/storage.ts":{"content":"import { \n  type User, \n  type InsertUser, \n  type Session, \n  type InsertSession,\n  type Student,\n  type InsertStudent,\n  type Booking,\n  type InsertBooking,\n  type Route,\n  type InsertRoute,\n  type Stop,\n  type InsertStop,\n  type DriverAssignment,\n  type InsertDriverAssignment \n} from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\nimport bcrypt from \"bcrypt\";\n\n// modify the interface with any CRUD methods\n// you might need\n\nexport interface IStorage {\n  // User authentication\n  getUser(id: string): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  updateUser(id: string, updates: Partial<User>): Promise<User | undefined>;\n  \n  // Parent approval (driver only)\n  getPendingParents(): Promise<User[]>;\n  approveParent(parentId: string): Promise<User | undefined>;\n  rejectParent(parentId: string): Promise<User | undefined>;\n  \n  // Session management\n  createSession(session: InsertSession): Promise<Session>;\n  getSession(id: string): Promise<Session | undefined>;\n  deleteSession(id: string): Promise<boolean>;\n  \n  // Students (parent access only)\n  getStudentsByParent(parentId: string): Promise<Student[]>;\n  createStudent(student: InsertStudent): Promise<Student>;\n  getStudentById(studentId: string): Promise<Student | undefined>;\n  \n  // Bookings (parent access only)\n  getBookingsByParent(parentId: string): Promise<Booking[]>;\n  createBooking(booking: InsertBooking): Promise<Booking>;\n  updateBooking(id: string, updates: Partial<Booking>): Promise<Booking | undefined>;\n  getAllBookings(): Promise<Booking[]>;\n  \n  // Routes (public read, driver control)\n  getRoutes(): Promise<Route[]>;\n  getRoute(id: string): Promise<Route | undefined>;\n  updateRoute(id: string, updates: Partial<Route>): Promise<Route | undefined>;\n  \n  // Stops (driver management)\n  getStopsByRoute(routeId: string): Promise<Stop[]>;\n  getStop(id: string): Promise<Stop | undefined>;\n  createStop(stop: InsertStop): Promise<Stop>;\n  updateStop(id: string, updates: Partial<Stop>): Promise<Stop | undefined>;\n  deleteStop(id: string): Promise<boolean>;\n  \n  // Driver assignments (driver access only)\n  getDriverAssignments(driverId: string): Promise<DriverAssignment[]>;\n  createDriverAssignment(assignment: InsertDriverAssignment): Promise<DriverAssignment>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n  private sessions: Map<string, Session>;\n  private students: Map<string, Student>;\n  private bookings: Map<string, Booking>;\n  private routes: Map<string, Route>;\n  private stops: Map<string, Stop>;\n  private driverAssignments: Map<string, DriverAssignment>;\n\n  constructor() {\n    this.users = new Map();\n    this.sessions = new Map();\n    this.students = new Map();\n    this.bookings = new Map();\n    this.routes = new Map();\n    this.stops = new Map();\n    this.driverAssignments = new Map();\n    this.initializeDemoData();\n  }\n\n  private async initializeDemoData() {\n    try {\n      // Create demo parent user\n      const parentPasswordHash = await bcrypt.hash('password123', 12);\n      const demoParent: User = {\n        id: 'demo-parent-1',\n        name: 'Sarah Johnson',\n        email: 'parent@demo.com',\n        passwordHash: parentPasswordHash,\n        phone: '+1-555-0123',\n        role: 'parent',\n        status: 'approved',\n        isActive: true,\n        createdAt: new Date()\n      };\n      this.users.set(demoParent.id, demoParent);\n      \n      // Create demo driver user\n      const driverPasswordHash = await bcrypt.hash('password123', 12);\n      const demoDriver: User = {\n        id: 'demo-driver-1',\n        name: 'Mike Rodriguez',\n        email: 'driver@demo.com',\n        passwordHash: driverPasswordHash,\n        phone: '+1-555-0456',\n        role: 'driver',\n        status: 'approved',\n        isActive: true,\n        createdAt: new Date()\n      };\n      this.users.set(demoDriver.id, demoDriver);\n      \n      console.log('Demo users created:');\n      console.log('- Parent: parent@demo.com / password123');\n      console.log('- Driver: driver@demo.com / password123');\n      \n      // Create demo students for parent\n      const demoStudents: Student[] = [\n        {\n          id: 'student-1',\n          name: 'Alex Johnson',\n          grade: '4th',\n          parentId: demoParent.id,\n          parentName: demoParent.name,\n          parentEmail: demoParent.email,\n          parentPhone: demoParent.phone || '+1-555-0123'\n        },\n        {\n          id: 'student-2',\n          name: 'Emma Davis',\n          grade: '6th',\n          parentId: demoParent.id,\n          parentName: demoParent.name,\n          parentEmail: demoParent.email,\n          parentPhone: demoParent.phone || '+1-555-0123'\n        }\n      ];\n      \n      demoStudents.forEach(student => this.students.set(student.id, student));\n      \n      // Create demo routes\n      const friscoRoute: Route = {\n        id: 'route-frisco-1',\n        name: 'Frisco Route',\n        area: 'frisco',\n        capacity: 14\n      };\n      this.routes.set(friscoRoute.id, friscoRoute);\n      \n      const dallasRoute: Route = {\n        id: 'route-dallas-1',\n        name: 'Dallas Route',\n        area: 'dallas',\n        capacity: 14\n      };\n      this.routes.set(dallasRoute.id, dallasRoute);\n      \n      // Create demo stops for Frisco Route\n      // Morning: A→B→C (1,2,3), Afternoon: C→B→A (3,2,1) - reversed order\n      const friscoStops: Stop[] = [\n        {\n          id: 'stop-frisco-1',\n          routeId: friscoRoute.id,\n          name: 'Main Street Plaza',\n          address: '123 Main St, Frisco, TX 75034',\n          morningOrder: 1, // First pickup\n          afternoonOrder: 3, // Last dropoff\n          // Regular days (Mon-Thu)\n          morningPickupTime: '07:30',\n          afternoonDropoffTime: '15:45',\n          // Friday schedule\n          fridayMorningPickupTime: '07:30',\n          fridayAfternoonDropoffTime: '14:45', // Earlier on Friday\n          // Early release schedule\n          earlyReleaseMorningPickupTime: '07:30',\n          earlyReleaseAfternoonDropoffTime: '13:45'\n        },\n        {\n          id: 'stop-frisco-2',\n          routeId: friscoRoute.id,\n          name: 'Community Center',\n          address: '456 Oak Ave, Frisco, TX 75035',\n          morningOrder: 2, // Second pickup\n          afternoonOrder: 2, // Second dropoff\n          // Regular days\n          morningPickupTime: '07:45',\n          afternoonDropoffTime: '16:00',\n          // Friday schedule\n          fridayMorningPickupTime: '07:45',\n          fridayAfternoonDropoffTime: '15:00',\n          // Early release schedule\n          earlyReleaseMorningPickupTime: '07:45',\n          earlyReleaseAfternoonDropoffTime: '14:00'\n        },\n        {\n          id: 'stop-frisco-3',\n          routeId: friscoRoute.id,\n          name: 'Soccer Academy',\n          address: '789 Sports Dr, Frisco, TX 75033',\n          morningOrder: 3, // Last pickup (arrives at school)\n          afternoonOrder: 1, // First dropoff (leaves from school)\n          // Regular days\n          morningPickupTime: '08:00',\n          afternoonDropoffTime: '16:15',\n          // Friday schedule\n          fridayMorningPickupTime: '08:00',\n          fridayAfternoonDropoffTime: '15:15',\n          // Early release schedule\n          earlyReleaseMorningPickupTime: '08:00',\n          earlyReleaseAfternoonDropoffTime: '14:15'\n        }\n      ];\n      \n      friscoStops.forEach(stop => this.stops.set(stop.id, stop));\n      \n      // Create demo stops for Dallas Route\n      // Morning: A→B→C (1,2,3), Afternoon: C→B→A (3,2,1) - reversed order\n      const dallasStops: Stop[] = [\n        {\n          id: 'stop-dallas-1',\n          routeId: dallasRoute.id,\n          name: 'Downtown Station',\n          address: '100 Commerce St, Dallas, TX 75202',\n          morningOrder: 1, // First pickup\n          afternoonOrder: 3, // Last dropoff\n          // Regular days (Mon-Thu)\n          morningPickupTime: '07:15',\n          afternoonDropoffTime: '15:30',\n          // Friday schedule\n          fridayMorningPickupTime: '07:15',\n          fridayAfternoonDropoffTime: '14:30', // Earlier on Friday\n          // Early release schedule\n          earlyReleaseMorningPickupTime: '07:15',\n          earlyReleaseAfternoonDropoffTime: '13:30'\n        },\n        {\n          id: 'stop-dallas-2',\n          routeId: dallasRoute.id,\n          name: 'Park Plaza',\n          address: '200 Elm St, Dallas, TX 75201',\n          morningOrder: 2, // Second pickup\n          afternoonOrder: 2, // Second dropoff\n          // Regular days\n          morningPickupTime: '07:30',\n          afternoonDropoffTime: '15:45',\n          // Friday schedule\n          fridayMorningPickupTime: '07:30',\n          fridayAfternoonDropoffTime: '14:45',\n          // Early release schedule\n          earlyReleaseMorningPickupTime: '07:30',\n          earlyReleaseAfternoonDropoffTime: '13:45'\n        },\n        {\n          id: 'stop-dallas-3',\n          routeId: dallasRoute.id,\n          name: 'Sports Complex',\n          address: '300 Victory Ave, Dallas, TX 75219',\n          morningOrder: 3, // Last pickup (arrives at school)\n          afternoonOrder: 1, // First dropoff (leaves from school)\n          // Regular days\n          morningPickupTime: '07:45',\n          afternoonDropoffTime: '16:00',\n          // Friday schedule\n          fridayMorningPickupTime: '07:45',\n          fridayAfternoonDropoffTime: '15:00',\n          // Early release schedule\n          earlyReleaseMorningPickupTime: '07:45',\n          earlyReleaseAfternoonDropoffTime: '14:00'\n        }\n      ];\n      \n      dallasStops.forEach(stop => this.stops.set(stop.id, stop));\n      \n      // Create driver assignment\n      const driverAssignment: DriverAssignment = {\n        id: 'assignment-1',\n        driverId: demoDriver.id,\n        routeId: friscoRoute.id,\n        timeSlot: 'morning',\n        isActive: true\n      };\n      this.driverAssignments.set(driverAssignment.id, driverAssignment);\n\n      // Create demo confirmed bookings for driver dashboard testing\n      const today = new Date();\n      \n      const demoBookings: Booking[] = [\n        {\n          id: 'booking-demo-1',\n          studentId: 'student-1',\n          routeId: friscoRoute.id,\n          stopId: 'stop-frisco-1', // Main Street Plaza (order 1)\n          date: today.toISOString().split('T')[0], // Use TODAY instead of tomorrow\n          timeSlot: 'morning',\n          status: 'confirmed',\n          createdAt: new Date()\n        },\n        {\n          id: 'booking-demo-2',\n          studentId: 'student-2',\n          routeId: friscoRoute.id,\n          stopId: 'stop-frisco-2', // Community Center (order 2)\n          date: today.toISOString().split('T')[0], // Use TODAY instead of tomorrow\n          timeSlot: 'morning',\n          status: 'confirmed',\n          createdAt: new Date()\n        },\n        {\n          id: 'booking-demo-3',\n          studentId: 'student-1',\n          routeId: friscoRoute.id,\n          stopId: 'stop-frisco-3', // Soccer Academy (order 3)\n          date: today.toISOString().split('T')[0], // Use TODAY instead of tomorrow\n          timeSlot: 'afternoon',\n          status: 'confirmed',\n          createdAt: new Date()\n        }\n      ];\n\n      demoBookings.forEach(booking => this.bookings.set(booking.id, booking));\n      console.log(`Created ${demoBookings.length} demo bookings for driver testing`);\n      console.log('Demo bookings:', demoBookings.map(b => `${b.id}: Student ${b.studentId} at Stop ${b.stopId} (${b.timeSlot}, ${b.status}, ${b.date})`));\n      \n    } catch (error) {\n      console.error('Error creating demo data:', error);\n    }\n  }\n\n  // User authentication\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.email === email,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const user: User = { \n      ...insertUser, \n      id, \n      createdAt: new Date(),\n      isActive: insertUser.isActive ?? true,\n      phone: insertUser.phone ?? null\n    };\n    this.users.set(id, user);\n    return user;\n  }\n\n  async updateUser(id: string, updates: Partial<User>): Promise<User | undefined> {\n    const user = this.users.get(id);\n    if (!user) return undefined;\n    const updatedUser = { ...user, ...updates };\n    this.users.set(id, updatedUser);\n    return updatedUser;\n  }\n  \n  // Parent approval (driver only)\n  async getPendingParents(): Promise<User[]> {\n    return Array.from(this.users.values())\n      .filter(user => user.role === 'parent' && user.status === 'pending');\n  }\n  \n  async approveParent(parentId: string): Promise<User | undefined> {\n    return this.updateUser(parentId, { status: 'approved' });\n  }\n  \n  async rejectParent(parentId: string): Promise<User | undefined> {\n    return this.updateUser(parentId, { status: 'rejected' });\n  }\n\n  // Session management\n  async createSession(insertSession: InsertSession): Promise<Session> {\n    const id = randomUUID();\n    const session: Session = { \n      ...insertSession, \n      id, \n      createdAt: new Date() \n    };\n    this.sessions.set(id, session);\n    return session;\n  }\n\n  async getSession(id: string): Promise<Session | undefined> {\n    const session = this.sessions.get(id);\n    if (!session) return undefined;\n    \n    // Check if session is expired\n    if (session.expiresAt < new Date()) {\n      this.sessions.delete(id);\n      return undefined;\n    }\n    \n    return session;\n  }\n\n  async deleteSession(id: string): Promise<boolean> {\n    return this.sessions.delete(id);\n  }\n\n  // Students (parent access only)\n  async getStudentsByParent(parentId: string): Promise<Student[]> {\n    return Array.from(this.students.values()).filter(\n      (student) => student.parentId === parentId\n    );\n  }\n\n  async createStudent(insertStudent: InsertStudent): Promise<Student> {\n    const id = randomUUID();\n    const student: Student = { ...insertStudent, id };\n    this.students.set(id, student);\n    return student;\n  }\n\n  async getStudentById(studentId: string): Promise<Student | undefined> {\n    return this.students.get(studentId);\n  }\n\n  // Bookings (parent access only)\n  async getBookingsByParent(parentId: string): Promise<any[]> {\n    const parentStudents = await this.getStudentsByParent(parentId);\n    const studentIds = parentStudents.map(s => s.id);\n    const rawBookings = Array.from(this.bookings.values()).filter(\n      (booking) => studentIds.includes(booking.studentId)\n    );\n\n    // Enrich bookings with related data\n    const enrichedBookings = await Promise.all(\n      rawBookings.map(async (booking) => {\n        const student = parentStudents.find(s => s.id === booking.studentId);\n        const route = this.routes.get(booking.routeId);\n        const stop = this.stops.get(booking.stopId);\n        \n        // Format date as user-friendly string\n        const bookingDate = new Date(booking.date);\n        const formattedDate = bookingDate.toLocaleDateString('en-US', { \n          weekday: 'long', \n          year: 'numeric', \n          month: 'long', \n          day: 'numeric' \n        });\n        \n        // Format time based on time slot and stop\n        let formattedTime = '8:00 AM';\n        if (stop) {\n          if (booking.timeSlot === 'morning' && stop.morningPickupTime) {\n            const time = stop.morningPickupTime.split(':');\n            const hour = parseInt(time[0]);\n            const minute = time[1];\n            formattedTime = hour > 12 ? `${hour - 12}:${minute} PM` : `${hour}:${minute} AM`;\n          } else if (booking.timeSlot === 'afternoon' && stop.afternoonDropoffTime) {\n            const time = stop.afternoonDropoffTime.split(':');\n            const hour = parseInt(time[0]);\n            const minute = time[1];\n            formattedTime = hour > 12 ? `${hour - 12}:${minute} PM` : `${hour}:${minute} AM`;\n          }\n        }\n\n        return {\n          ...booking,\n          studentName: student?.name || 'Unknown Student',\n          route: route?.name || 'Unknown Route',\n          stop: stop?.name || 'Unknown Stop',\n          date: formattedDate,\n          time: formattedTime\n        };\n      })\n    );\n\n    return enrichedBookings;\n  }\n\n  async createBooking(insertBooking: InsertBooking): Promise<Booking> {\n    const id = randomUUID();\n    const booking: Booking = { \n      ...insertBooking, \n      id, \n      createdAt: new Date(),\n      status: insertBooking.status ?? \"confirmed\"\n    };\n    this.bookings.set(id, booking);\n    return booking;\n  }\n\n  async updateBooking(id: string, updates: Partial<Booking>): Promise<Booking | undefined> {\n    const booking = this.bookings.get(id);\n    if (!booking) return undefined;\n    const updatedBooking = { ...booking, ...updates };\n    this.bookings.set(id, updatedBooking);\n    return updatedBooking;\n  }\n\n  async getAllBookings(): Promise<Booking[]> {\n    return Array.from(this.bookings.values());\n  }\n\n  // Routes (public read, driver control)\n  async getRoutes(): Promise<Route[]> {\n    return Array.from(this.routes.values());\n  }\n\n  async getRoute(id: string): Promise<Route | undefined> {\n    return this.routes.get(id);\n  }\n\n  async updateRoute(id: string, updates: Partial<Route>): Promise<Route | undefined> {\n    const existingRoute = this.routes.get(id);\n    if (!existingRoute) {\n      return undefined;\n    }\n    \n    const updatedRoute = { ...existingRoute, ...updates };\n    this.routes.set(id, updatedRoute);\n    return updatedRoute;\n  }\n\n  // Stops\n  async getStopsByRoute(routeId: string): Promise<Stop[]> {\n    return Array.from(this.stops.values())\n      .filter((stop) => stop.routeId === routeId)\n      .sort((a, b) => a.morningOrder - b.morningOrder); // Default to morning pickup order\n  }\n\n  async getStop(id: string): Promise<Stop | undefined> {\n    return this.stops.get(id);\n  }\n\n  async createStop(insertStop: InsertStop): Promise<Stop> {\n    const id = randomUUID();\n    const stop: Stop = {\n      id,\n      ...insertStop,\n      // Ensure all time fields have proper null values if not provided\n      morningPickupTime: insertStop.morningPickupTime || null,\n      afternoonDropoffTime: insertStop.afternoonDropoffTime || null,\n      fridayMorningPickupTime: insertStop.fridayMorningPickupTime || null,\n      fridayAfternoonDropoffTime: insertStop.fridayAfternoonDropoffTime || null,\n      earlyReleaseMorningPickupTime: insertStop.earlyReleaseMorningPickupTime || null,\n      earlyReleaseAfternoonDropoffTime: insertStop.earlyReleaseAfternoonDropoffTime || null,\n    };\n    this.stops.set(id, stop);\n    return stop;\n  }\n\n  async updateStop(id: string, updates: Partial<Stop>): Promise<Stop | undefined> {\n    const existingStop = this.stops.get(id);\n    if (!existingStop) {\n      return undefined;\n    }\n    \n    const updatedStop = { ...existingStop, ...updates };\n    this.stops.set(id, updatedStop);\n    return updatedStop;\n  }\n\n  async deleteStop(id: string): Promise<boolean> {\n    return this.stops.delete(id);\n  }\n\n  // Driver assignments (driver access only)\n  async getDriverAssignments(driverId: string): Promise<DriverAssignment[]> {\n    return Array.from(this.driverAssignments.values()).filter(\n      (assignment) => assignment.driverId === driverId\n    );\n  }\n\n  async createDriverAssignment(insertAssignment: InsertDriverAssignment): Promise<DriverAssignment> {\n    const id = randomUUID();\n    const assignment: DriverAssignment = { \n      ...insertAssignment, \n      id,\n      isActive: insertAssignment.isActive ?? true\n    };\n    this.driverAssignments.set(id, assignment);\n    return assignment;\n  }\n}\n\nexport const storage = new MemStorage();\n","size_bytes":19789},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, integer, boolean, time, primaryKey } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Users table for authentication\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: text(\"email\").notNull().unique(),\n  passwordHash: text(\"password_hash\").notNull(),\n  name: text(\"name\").notNull(),\n  phone: text(\"phone\"),\n  role: text(\"role\").notNull(), // \"parent\" or \"driver\"\n  status: text(\"status\").notNull().default(\"pending\"), // \"pending\", \"approved\", \"rejected\" (for parents only)\n  isActive: boolean(\"is_active\").default(true),\n  createdAt: timestamp(\"created_at\").default(sql`now()`),\n});\n\n// Sessions table for authentication\nexport const sessions = pgTable(\"sessions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  expiresAt: timestamp(\"expires_at\").notNull(),\n  createdAt: timestamp(\"created_at\").default(sql`now()`),\n});\n\n// Students table\nexport const students = pgTable(\"students\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  grade: text(\"grade\").notNull(), // \"3rd\", \"4th\", \"5th\", \"6th\", \"7th\"\n  parentId: varchar(\"parent_id\").notNull().references(() => users.id), // Link to parent user\n  parentName: text(\"parent_name\").notNull(),\n  parentEmail: text(\"parent_email\").notNull(),\n  parentPhone: text(\"parent_phone\").notNull(),\n});\n\n// Routes table (Frisco and Dallas)\nexport const routes = pgTable(\"routes\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(), // \"Frisco Route\" or \"Dallas Route\"\n  area: text(\"area\").notNull(), // \"frisco\" or \"dallas\"\n  capacity: integer(\"capacity\").notNull().default(14),\n});\n\n// Stops for each route\nexport const stops = pgTable(\"stops\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  routeId: varchar(\"route_id\").notNull().references(() => routes.id),\n  name: text(\"name\").notNull(),\n  address: text(\"address\").notNull(),\n  \n  // Order in sequences (morning A→B→C, afternoon C→B→A)\n  morningOrder: integer(\"morning_order\").notNull(), // pickup order (1,2,3...)\n  afternoonOrder: integer(\"afternoon_order\").notNull(), // dropoff order (1,2,3...)\n  \n  // Regular days (Mon-Thu) times\n  morningPickupTime: time(\"morning_pickup_time\"), // pickup time\n  afternoonDropoffTime: time(\"afternoon_dropoff_time\"), // dropoff time\n  \n  // Friday times (different schedule)\n  fridayMorningPickupTime: time(\"friday_morning_pickup_time\"),\n  fridayAfternoonDropoffTime: time(\"friday_afternoon_dropoff_time\"),\n  \n  // Early release times (special schedule)\n  earlyReleaseMorningPickupTime: time(\"early_release_morning_pickup_time\"),\n  earlyReleaseAfternoonDropoffTime: time(\"early_release_afternoon_dropoff_time\"),\n});\n\n// Bookings table\nexport const bookings = pgTable(\"bookings\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  studentId: varchar(\"student_id\").notNull().references(() => students.id),\n  routeId: varchar(\"route_id\").notNull().references(() => routes.id),\n  stopId: varchar(\"stop_id\").notNull().references(() => stops.id),\n  date: timestamp(\"date\").notNull(),\n  timeSlot: text(\"time_slot\").notNull(), // \"morning\" or \"afternoon\"\n  status: text(\"status\").notNull().default(\"confirmed\"), // \"confirmed\", \"cancelled\"\n  createdAt: timestamp(\"created_at\").default(sql`now()`),\n});\n\n// Driver assignments - links drivers to specific routes\nexport const driverAssignments = pgTable(\"driver_assignments\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  driverId: varchar(\"driver_id\").notNull().references(() => users.id),\n  routeId: varchar(\"route_id\").notNull().references(() => routes.id),\n  timeSlot: text(\"time_slot\").notNull(), // \"morning\" or \"afternoon\"\n  isActive: boolean(\"is_active\").default(true),\n});\n\n// Driver tracking for real-time location\nexport const driverSessions = pgTable(\"driver_sessions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  routeId: varchar(\"route_id\").notNull().references(() => routes.id),\n  driverId: varchar(\"driver_id\").notNull().references(() => users.id), // Link to driver user\n  isActive: boolean(\"is_active\").default(false),\n  currentLat: text(\"current_lat\"),\n  currentLng: text(\"current_lng\"),\n  timeSlot: text(\"time_slot\").notNull(), // \"morning\" or \"afternoon\"\n  date: timestamp(\"date\").notNull(),\n  lastUpdated: timestamp(\"last_updated\").default(sql`now()`),\n});\n\n// Create insert schemas\nexport const insertUserSchema = createInsertSchema(users).omit({ id: true, createdAt: true });\nexport const insertSessionSchema = createInsertSchema(sessions).omit({ id: true, createdAt: true });\nexport const insertStudentSchema = createInsertSchema(students).omit({ id: true });\nexport const insertRouteSchema = createInsertSchema(routes).omit({ id: true });\nexport const insertStopSchema = createInsertSchema(stops).omit({ id: true });\nexport const insertBookingSchema = createInsertSchema(bookings).omit({ id: true, createdAt: true });\nexport const insertDriverAssignmentSchema = createInsertSchema(driverAssignments).omit({ id: true });\nexport const insertDriverSessionSchema = createInsertSchema(driverSessions).omit({ id: true, lastUpdated: true });\n\n// Types\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\nexport type InsertSession = z.infer<typeof insertSessionSchema>;\nexport type Session = typeof sessions.$inferSelect;\n\nexport type InsertStudent = z.infer<typeof insertStudentSchema>;\nexport type Student = typeof students.$inferSelect;\n\nexport type InsertRoute = z.infer<typeof insertRouteSchema>;\nexport type Route = typeof routes.$inferSelect;\n\nexport type InsertStop = z.infer<typeof insertStopSchema>;\nexport type Stop = typeof stops.$inferSelect;\n\nexport type InsertBooking = z.infer<typeof insertBookingSchema>;\nexport type Booking = typeof bookings.$inferSelect;\n\nexport type InsertDriverAssignment = z.infer<typeof insertDriverAssignmentSchema>;\nexport type DriverAssignment = typeof driverAssignments.$inferSelect;\n\nexport type InsertDriverSession = z.infer<typeof insertDriverSessionSchema>;\nexport type DriverSession = typeof driverSessions.$inferSelect;\n\n// Extended types for frontend\nexport type BookingWithDetails = Booking & {\n  student: Student;\n  route: Route;\n  stop: Stop;\n};\n\nexport type RouteWithStops = Route & {\n  stops: Stop[];\n};\n\nexport type StopWithBookings = Stop & {\n  bookings: BookingWithDetails[];\n  availableSeats: number;\n};","size_bytes":6697},"client/src/App.tsx":{"content":"import { useState } from 'react';\nimport { Bus, Users, Calendar, LogOut } from 'lucide-react';\nimport sisuLogo from '@assets/Sisu_Logos-01_1759436830537.png';\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider, useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ThemeProvider } from \"@/components/ThemeProvider\";\nimport ThemeToggle from \"@/components/ThemeToggle\";\nimport ParentDashboard from \"@/components/ParentDashboard\";\nimport DriverDashboard from \"@/components/DriverDashboard\";\nimport BottomNav from \"@/components/BottomNav\";\nimport LoginForm from \"@/components/LoginForm\";\nimport SignupForm from \"@/components/SignupForm\";\nimport { AuthProvider, useAuth } from \"@/contexts/AuthContext\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\ntype UserRole = 'parent' | 'driver';\n\nfunction AuthenticatedApp() {\n  const [activeTab, setActiveTab] = useState('bookings');\n  const [showSignup, setShowSignup] = useState(false);\n  const { user, logout, isLoading } = useAuth();\n  const { toast } = useToast();\n  \n  // Real API calls for parent data\n  const { data: bookingsData, isLoading: bookingsLoading } = useQuery({\n    queryKey: ['/api/bookings'],\n    enabled: user?.role === 'parent'\n  });\n  \n  const { data: studentsData } = useQuery({\n    queryKey: ['/api/students'],\n    enabled: user?.role === 'parent'\n  });\n\n  // Real API calls for driver data  \n  const { data: allBookingsData, isLoading: allBookingsLoading } = useQuery({\n    queryKey: ['/api/driver/bookings'],\n    enabled: user?.role === 'driver'\n  });\n\n  // Fetch routes for driver (same as parent)\n  const { data: driverRoutesData, isLoading: driverRoutesLoading } = useQuery({\n    queryKey: ['/api/routes'],\n    enabled: user?.role === 'driver'\n  });\n  \n  // Cancel booking mutation\n  const cancelBookingMutation = useMutation({\n    mutationFn: async (bookingId: string) => {\n      return apiRequest(`/api/bookings/${bookingId}`, {\n        method: 'PATCH',\n        body: { status: 'cancelled' }\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/bookings'] });\n      toast({\n        title: 'Booking cancelled',\n        description: 'Your booking has been successfully cancelled.',\n      });\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Cancellation failed',\n        description: error.message || 'Failed to cancel booking',\n        variant: 'destructive',\n      });\n    }\n  });\n  \n  if (isLoading || (user?.role === 'parent' && bookingsLoading) || (user?.role === 'driver' && (allBookingsLoading || driverRoutesLoading))) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center space-y-4\">\n          <Bus className=\"w-12 h-12 text-primary mx-auto animate-pulse\" />\n          <p className=\"text-muted-foreground\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n  \n  if (!user) {\n    if (showSignup) {\n      return <SignupForm onSwitchToLogin={() => setShowSignup(false)} />;\n    }\n    return <LoginForm onSwitchToSignup={() => setShowSignup(true)} />;\n  }\n  \n  const currentRole = user.role;\n  \n  // Transform backend data to match UI expectations\n  const bookings = (bookingsData as any)?.bookings || [];\n  const students = (studentsData as any)?.students || [];\n  \n  // Transform real bookings into driver student format\n  const allBookings = (allBookingsData as any)?.bookings || [];\n  const driverStudents = allBookings\n    .filter((booking: any) => booking.status === 'confirmed')\n    .map((booking: any) => ({\n      id: booking.studentId,\n      name: booking.studentName,\n      stop: booking.stopName,\n      timeSlot: booking.timeSlot,\n      isPickedUp: false  // Default pickup status - could be stored in future\n    }));\n\n  // Get routes for driver (same as parent)\n  const driverRoutes = (driverRoutesData as any)?.routes || [];\n  \n  const handleCancelBooking = (id: string) => {\n    cancelBookingMutation.mutate(id);\n  };\n  \n  const handleNewBooking = () => {\n    setActiveTab('book');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header - Mobile Optimized */}\n      <header className=\"border-b bg-card\">\n        <div className=\"container mx-auto px-4 h-14 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <img src={sisuLogo} alt=\"SISU Soccer Academy\" className=\"h-8 w-auto\" />\n            <div className=\"hidden sm:block\">\n              <p className=\"text-xs text-muted-foreground\">Transportation System</p>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center gap-2\">\n            {/* User Info and Logout */}\n            <div className=\"flex items-center gap-2\">\n              <Badge variant=\"outline\" className=\"text-xs px-2\">\n                {user.name} ({currentRole === 'parent' ? 'Parent' : 'Driver'})\n              </Badge>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={logout}\n                data-testid=\"button-logout\"\n                className=\"min-h-11 px-2\"\n              >\n                <LogOut className=\"w-4 h-4\" />\n              </Button>\n            </div>\n            \n            <ThemeToggle />\n          </div>\n        </div>\n      </header>\n      \n      {/* Main Content - Mobile Optimized with Bottom Nav Spacing */}\n      <main className=\"container mx-auto px-4 py-4 pb-20\">\n        {currentRole === 'parent' && (\n          <ParentDashboard\n            bookings={bookings}\n            students={students}\n            onCancelBooking={handleCancelBooking}\n            onNewBooking={handleNewBooking}\n            activeTab={activeTab}\n            onTabChange={setActiveTab}\n            isLoading={bookingsLoading || cancelBookingMutation.isPending}\n          />\n        )}\n        \n        {currentRole === 'driver' && (\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-2\">\n              <Users className=\"w-5 h-5 text-primary\" />\n              <div>\n                <h1 className=\"text-xl font-bold\">Driver Dashboard</h1>\n                <p className=\"text-sm text-muted-foreground\">Manage route and track student pickups</p>\n              </div>\n            </div>\n            \n            {/* Driver Route Cards - Unified routes showing both morning and afternoon */}\n            <div className=\"grid gap-4\">\n              {driverRoutes.map((route: any) => {\n                // Filter students for this specific route based on route stops\n                const routeStops = route.stops || [];\n                const stopNames = routeStops.map((stop: any) => stop.name);\n                const routeStudents = driverStudents.filter((student: any) => \n                  stopNames.includes(student.stop)\n                );\n                \n                // Create a map of stop names to their ordering info for proper sorting\n                const stopOrderMap = routeStops.reduce((acc: any, stop: any) => {\n                  acc[stop.name] = {\n                    morningOrder: stop.morningOrder,\n                    afternoonOrder: stop.afternoonOrder\n                  };\n                  return acc;\n                }, {});\n                \n                console.log(`App.tsx: ${route.name} - ${routeStudents.length} total students:`, routeStudents);\n                \n                return (\n                  <div key={route.id} className=\"space-y-4\">\n                    <DriverDashboard\n                      routeName={route.name}\n                      route={route}\n                      students={routeStudents}\n                      stopOrderMap={stopOrderMap}\n                      onToggleRoute={(isActive) => console.log('Route toggled:', isActive)}\n                      onToggleStudent={(studentId) => console.log('Student toggled:', studentId)}\n                      activeTab={activeTab}\n                      onTabChange={setActiveTab}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n        \n        {/* Features Overview - Hidden on Mobile */}\n        <div className=\"mt-8 pt-8 border-t hidden lg:block\">\n          <div className=\"text-center mb-6\">\n            <h2 className=\"text-xl font-semibold mb-2\">System Features</h2>\n            <p className=\"text-muted-foreground\">\n              Complete transportation management for SISU Soccer Academy\n            </p>\n          </div>\n          \n          <div className=\"grid md:grid-cols-3 gap-4\">\n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-base flex items-center gap-2\">\n                  <Calendar className=\"w-4 h-4\" />\n                  Parent Booking\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"text-sm text-muted-foreground\">\n                <ul className=\"space-y-1\">\n                  <li>• Book up to 1 month ahead</li>\n                  <li>• Real-time seat availability</li>\n                  <li>• Same-day cancellations</li>\n                  <li>• Multiple children support</li>\n                </ul>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-base flex items-center gap-2\">\n                  <Bus className=\"w-4 h-4\" />\n                  Driver Tools\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"text-sm text-muted-foreground\">\n                <ul className=\"space-y-1\">\n                  <li>• Route activation controls</li>\n                  <li>• Student pickup tracking</li>\n                  <li>• Stop-by-stop manifests</li>\n                  <li>• Real-time GPS sharing</li>\n                </ul>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-base flex items-center gap-2\">\n                  <Users className=\"w-4 h-4\" />\n                  Admin Features\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"text-sm text-muted-foreground\">\n                <ul className=\"space-y-1\">\n                  <li>• Route & stop management</li>\n                  <li>• Capacity monitoring</li>\n                  <li>• Parent notifications</li>\n                  <li>• Booking analytics</li>\n                </ul>\n              </CardContent>\n            </Card>\n          </div>\n          \n          <div className=\"text-center mt-6\">\n            <div className=\"flex flex-wrap items-center justify-center gap-2 text-sm text-muted-foreground\">\n              <Badge variant=\"outline\">Frisco Route</Badge>\n              <Badge variant=\"outline\">Dallas Route</Badge>\n              <Badge variant=\"outline\">14 Seat Capacity</Badge>\n              <Badge variant=\"outline\">Real-time Tracking</Badge>\n            </div>\n          </div>\n        </div>\n      </main>\n      \n      {/* Bottom Navigation */}\n      <BottomNav\n        currentRole={currentRole}\n        activeTab={activeTab}\n        onTabChange={setActiveTab}\n      />\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <ThemeProvider defaultTheme=\"light\">\n          <AuthProvider>\n            <AuthenticatedApp />\n          </AuthProvider>\n          <Toaster />\n        </ThemeProvider>\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;","size_bytes":11988},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 100%;\n\n  --foreground: 222 84% 4%;\n\n  --border: 220 13% 91%;\n\n  --card: 0 0% 98%;\n\n  --card-foreground: 222 84% 4%;\n\n  --card-border: 220 13% 89%;\n\n  --sidebar: 220 14% 96%;\n\n  --sidebar-foreground: 222 84% 4%;\n\n  --sidebar-border: 220 13% 91%;\n\n  --sidebar-primary: 186 37% 44%;\n\n  --sidebar-primary-foreground: 210 40% 98%;\n\n  --sidebar-accent: 220 14% 88%;\n\n  --sidebar-accent-foreground: 222 84% 15%;\n\n  --sidebar-ring: 186 37% 44%;\n\n  --popover: 220 14% 94%;\n\n  --popover-foreground: 222 84% 4%;\n\n  --popover-border: 220 13% 87%;\n\n  --primary: 186 37% 44%;\n\n  --primary-foreground: 210 40% 98%;\n\n  --secondary: 220 14% 92%;\n\n  --secondary-foreground: 222 84% 4%;\n\n  --muted: 220 14% 94%;\n\n  --muted-foreground: 222 47% 11%;\n\n  --accent: 220 14% 91%;\n\n  --accent-foreground: 222 84% 15%;\n\n  --destructive: 0 84% 60%;\n\n  --destructive-foreground: 210 40% 98%;\n\n  --input: 220 13% 85%;\n  --ring: 186 37% 44%;\n  --chart-1: 142 76% 36%;\n  --chart-2: 38 92% 50%;\n  --chart-3: 186 37% 44%;\n  --chart-4: 262 83% 58%;\n  --chart-5: 340 82% 52%;\n\n  --font-sans: Inter, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: JetBrains Mono, monospace;\n  --radius: .5rem; /* 8px */\n  --shadow-2xs: 0px 1px 2px 0px hsl(220 13% 69% / 0.05);\n  --shadow-xs: 0px 1px 3px 0px hsl(220 13% 69% / 0.1);\n  --shadow-sm: 0px 1px 2px 0px hsl(220 13% 69% / 0.05), 0px 1px 3px -1px hsl(220 13% 69% / 0.1);\n  --shadow: 0px 1px 3px 0px hsl(220 13% 69% / 0.1), 0px 1px 2px -1px hsl(220 13% 69% / 0.1);\n  --shadow-md: 0px 4px 6px -1px hsl(220 13% 69% / 0.1), 0px 2px 4px -2px hsl(220 13% 69% / 0.1);\n  --shadow-lg: 0px 10px 15px -3px hsl(220 13% 69% / 0.1), 0px 4px 6px -4px hsl(220 13% 69% / 0.1);\n  --shadow-xl: 0px 20px 25px -5px hsl(220 13% 69% / 0.1), 0px 8px 10px -6px hsl(220 13% 69% / 0.1);\n  --shadow-2xl: 0px 25px 50px -12px hsl(220 13% 69% / 0.25);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 222 84% 5%;\n\n  --foreground: 210 40% 98%;\n\n  --border: 217 33% 17%;\n\n  --card: 222 84% 7%;\n\n  --card-foreground: 210 40% 98%;\n\n  --card-border: 217 33% 19%;\n\n  --sidebar: 222 84% 9%;\n\n  --sidebar-foreground: 210 40% 98%;\n\n  --sidebar-border: 217 33% 21%;\n\n  --sidebar-primary: 186 37% 44%;\n\n  --sidebar-primary-foreground: 210 40% 98%;\n\n  --sidebar-accent: 222 84% 15%;\n\n  --sidebar-accent-foreground: 210 40% 85%;\n\n  --sidebar-ring: 186 37% 44%;\n\n  --popover: 222 84% 11%;\n\n  --popover-foreground: 210 40% 98%;\n\n  --popover-border: 217 33% 23%;\n\n  --primary: 186 37% 44%;\n\n  --primary-foreground: 210 40% 98%;\n\n  --secondary: 222 84% 13%;\n\n  --secondary-foreground: 210 40% 98%;\n\n  --muted: 222 84% 11%;\n\n  --muted-foreground: 215 20% 65%;\n\n  --accent: 222 84% 13%;\n\n  --accent-foreground: 210 40% 85%;\n\n  --destructive: 0 84% 60%;\n\n  --destructive-foreground: 210 40% 98%;\n\n  --input: 217 33% 25%;\n  --ring: 186 37% 44%;\n  --chart-1: 142 76% 50%;\n  --chart-2: 38 92% 60%;\n  --chart-3: 186 37% 50%;\n  --chart-4: 262 83% 68%;\n  --chart-5: 340 82% 62%;\n\n  --shadow-2xs: 0px 1px 2px 0px hsl(222 84% 2% / 0.3);\n  --shadow-xs: 0px 1px 3px 0px hsl(222 84% 2% / 0.4);\n  --shadow-sm: 0px 1px 2px 0px hsl(222 84% 2% / 0.3), 0px 1px 3px -1px hsl(222 84% 2% / 0.4);\n  --shadow: 0px 1px 3px 0px hsl(222 84% 2% / 0.4), 0px 1px 2px -1px hsl(222 84% 2% / 0.4);\n  --shadow-md: 0px 4px 6px -1px hsl(222 84% 2% / 0.4), 0px 2px 4px -2px hsl(222 84% 2% / 0.4);\n  --shadow-lg: 0px 10px 15px -3px hsl(222 84% 2% / 0.4), 0px 4px 6px -4px hsl(222 84% 2% / 0.4);\n  --shadow-xl: 0px 20px 25px -5px hsl(222 84% 2% / 0.4), 0px 8px 10px -6px hsl(222 84% 2% / 0.4);\n  --shadow-2xl: 0px 25px 50px -12px hsl(222 84% 2% / 0.5);\n\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":9855},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/BookingCard.tsx":{"content":"import { Calendar, Clock, MapPin, User, X } from \"lucide-react\";\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\n\ninterface BookingCardProps {\n  id: string;\n  studentName: string;\n  route: string;\n  stop: string;\n  date: string;\n  timeSlot: \"morning\" | \"afternoon\";\n  time: string;\n  status: \"confirmed\" | \"cancelled\";\n  canCancel?: boolean;\n  onCancel?: (id: string) => void;\n  className?: string;\n}\n\nexport default function BookingCard({\n  id,\n  studentName,\n  route,\n  stop,\n  date,\n  timeSlot,\n  time,\n  status,\n  canCancel = true,\n  onCancel,\n  className\n}: BookingCardProps) {\n  const handleCancel = () => {\n    if (onCancel) {\n      onCancel(id);\n    }\n  };\n\n  return (\n    <Card className={cn(\n      \"relative\",\n      status === \"cancelled\" && \"opacity-60\",\n      className\n    )}>\n      <CardHeader className=\"pb-2\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <User className=\"w-4 h-4 text-muted-foreground\" />\n            <span className=\"font-medium\">{studentName}</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Badge \n              variant={status === \"confirmed\" ? \"default\" : \"secondary\"}\n              className={status === \"cancelled\" ? \"text-muted-foreground\" : \"\"}\n            >\n              {status === \"confirmed\" ? \"Confirmed\" : \"Cancelled\"}\n            </Badge>\n            {canCancel && status === \"confirmed\" && (\n              <Button\n                size=\"sm\"\n                variant=\"ghost\"\n                onClick={handleCancel}\n                data-testid={`button-cancel-${id}`}\n                className=\"min-h-11 min-w-11 text-muted-foreground hover:text-destructive\"\n              >\n                <X className=\"w-4 h-4\" />\n              </Button>\n            )}\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-3\">\n        {/* Mobile-first single column layout */}\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center gap-2\">\n            <MapPin className=\"w-4 h-4 text-muted-foreground\" />\n            <div>\n              <div className=\"font-medium text-sm\">{route}</div>\n              <div className=\"text-muted-foreground text-xs\">{stop}</div>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex items-center gap-2\">\n              <Calendar className=\"w-4 h-4 text-muted-foreground\" />\n              <div>\n                <div className=\"font-medium text-sm\">{date}</div>\n                <div className=\"text-muted-foreground text-xs capitalize\">{timeSlot}</div>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Clock className=\"w-4 h-4 text-muted-foreground\" />\n              <span className=\"font-mono text-sm\">{time}</span>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":3129},"client/src/components/BookingForm.tsx":{"content":"import { useState } from 'react';\nimport { Calendar, Clock, MapPin, User, Plus } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Badge } from '@/components/ui/badge';\nimport CapacityMeter from './CapacityMeter';\n\ninterface Student {\n  id: string;\n  name: string;\n}\n\ninterface Stop {\n  id: string;\n  name: string;\n  availableSeats: number;\n  time: string;\n}\n\ninterface Route {\n  id: string;\n  name: string;\n  area: string;\n  stops: Stop[];\n}\n\ninterface BookingFormProps {\n  students: Student[];\n  routes: Route[];\n  selectedDate: string;\n  onSubmit?: (booking: {\n    studentId: string;\n    routeId: string;\n    stopId: string;\n    date: string;\n    timeSlot: string;\n  }) => void;\n  onCancel?: () => void;\n  isSubmitting?: boolean;\n}\n\nexport default function BookingForm({\n  students,\n  routes,\n  selectedDate,\n  onSubmit,\n  onCancel,\n  isSubmitting = false\n}: BookingFormProps) {\n  const [selectedStudent, setSelectedStudent] = useState('');\n  const [selectedRoute, setSelectedRoute] = useState('');\n  const [selectedStop, setSelectedStop] = useState('');\n  const [selectedTimeSlot, setSelectedTimeSlot] = useState<'morning' | 'afternoon'>('morning');\n  \n  const selectedRouteData = routes.find(r => r.id === selectedRoute);\n  const selectedStopData = selectedRouteData?.stops.find(s => s.id === selectedStop);\n  \n  const handleSubmit = () => {\n    if (selectedStudent && selectedRoute && selectedStop && onSubmit) {\n      onSubmit({\n        studentId: selectedStudent,\n        routeId: selectedRoute,\n        stopId: selectedStop,\n        date: selectedDate,\n        timeSlot: selectedTimeSlot\n      });\n      // Reset form\n      setSelectedStudent('');\n      setSelectedRoute('');\n      setSelectedStop('');\n      setSelectedTimeSlot('morning');\n    }\n  };\n  \n  const isFormValid = selectedStudent && selectedRoute && selectedStop;\n  const hasAvailableSeats = (selectedStopData?.availableSeats ?? 0) > 0;\n  const canSubmit = isFormValid && hasAvailableSeats && !isSubmitting;\n  \n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Plus className=\"w-5 h-5\" />\n          Book Transportation\n        </CardTitle>\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n          <Calendar className=\"w-4 h-4\" />\n          {selectedDate}\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Student</label>\n            <Select value={selectedStudent} onValueChange={setSelectedStudent}>\n              <SelectTrigger data-testid=\"select-student\">\n                <SelectValue placeholder=\"Select student\" />\n              </SelectTrigger>\n              <SelectContent>\n                {students.map(student => (\n                  <SelectItem key={student.id} value={student.id}>\n                    {student.name}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          \n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Time Slot</label>\n            <Select value={selectedTimeSlot} onValueChange={(value: 'morning' | 'afternoon') => setSelectedTimeSlot(value)}>\n              <SelectTrigger data-testid=\"select-timeslot\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"morning\">Morning</SelectItem>\n                <SelectItem value=\"afternoon\">Afternoon</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n        \n        <div className=\"space-y-2\">\n          <label className=\"text-sm font-medium\">Route</label>\n          <Select value={selectedRoute} onValueChange={(value) => {\n            setSelectedRoute(value);\n            setSelectedStop(''); // Reset stop when route changes\n          }}>\n            <SelectTrigger data-testid=\"select-route\">\n              <SelectValue placeholder=\"Select route\" />\n            </SelectTrigger>\n            <SelectContent>\n              {routes.map(route => (\n                <SelectItem key={route.id} value={route.id}>\n                  <div className=\"flex items-center gap-2\">\n                    <MapPin className=\"w-4 h-4\" />\n                    {route.name}\n                  </div>\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n        \n        {selectedRouteData && (\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Stop</label>\n            <div className=\"space-y-2\">\n              {selectedRouteData.stops.map(stop => {\n                const time = selectedTimeSlot === 'morning' ? stop.time : stop.time; // In real app, this would be different times\n                return (\n                  <div\n                    key={stop.id}\n                    className={`p-3 rounded border cursor-pointer hover-elevate ${\n                      selectedStop === stop.id ? 'border-primary bg-primary/5' : ''\n                    } ${\n                      stop.availableSeats === 0 ? 'opacity-50 cursor-not-allowed' : ''\n                    }`}\n                    onClick={() => stop.availableSeats > 0 && setSelectedStop(stop.id)}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"font-medium\">{stop.name}</span>\n                        {selectedStop === stop.id && (\n                          <Badge variant=\"default\" className=\"text-xs\">\n                            Selected\n                          </Badge>\n                        )}\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n                          <Clock className=\"w-3 h-3\" />\n                          {time}\n                        </div>\n                        <CapacityMeter \n                          used={14 - stop.availableSeats} \n                          total={14} \n                          size=\"sm\" \n                          showLabel={false}\n                        />\n                        <span className=\"text-xs text-muted-foreground\">\n                          {stop.availableSeats} seats\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n        \n        {selectedStopData && !hasAvailableSeats && (\n          <div className=\"p-3 rounded bg-destructive/10 border border-destructive/20\">\n            <p className=\"text-sm text-destructive font-medium\">\n              This stop is fully booked for {selectedTimeSlot}. Please select a different stop or time.\n            </p>\n          </div>\n        )}\n        \n        <div className=\"flex gap-2 pt-4\">\n          <Button\n            onClick={handleSubmit}\n            disabled={!canSubmit}\n            data-testid=\"button-submit-booking\"\n            className=\"flex-1\"\n          >\n            {isSubmitting ? (\n              <>\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\" />\n                Booking...\n              </>\n            ) : (\n              'Book Transportation'\n            )}\n          </Button>\n          {onCancel && (\n            <Button\n              variant=\"outline\"\n              onClick={onCancel}\n              data-testid=\"button-cancel-booking\"\n            >\n              Cancel\n            </Button>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":8095},"client/src/components/BottomNav.tsx":{"content":"import { Calendar, Map, Plus, Users, Bus, Home } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\ninterface BottomNavProps {\n  currentRole: 'parent' | 'driver';\n  activeTab: string;\n  onTabChange: (tab: string) => void;\n}\n\nexport default function BottomNav({ currentRole, activeTab, onTabChange }: BottomNavProps) {\n  const parentTabs = [\n    { id: 'bookings', label: 'Bookings', icon: Home },\n    { id: 'routes', label: 'Routes', icon: Map },\n    { id: 'book', label: 'Book', icon: Plus }\n  ];\n\n  const driverTabs = [\n    { id: 'manifest', label: 'Manifest', icon: Users },\n    { id: 'map', label: 'Map', icon: Map }\n  ];\n\n  const tabs = currentRole === 'parent' ? parentTabs : driverTabs;\n\n  return (\n    <nav className=\"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex items-center justify-around h-16\">\n          {tabs.map((tab) => {\n            const Icon = tab.icon;\n            const isActive = activeTab === tab.id;\n            \n            return (\n              <Button\n                key={tab.id}\n                variant=\"ghost\"\n                onClick={() => onTabChange(tab.id)}\n                data-testid={`nav-${tab.id}`}\n                className={cn(\n                  \"flex flex-col items-center gap-1 min-h-12 min-w-12 px-2 py-1\",\n                  isActive && \"text-primary\"\n                )}\n              >\n                <Icon className={cn(\"w-5 h-5\", isActive && \"fill-current\")} />\n                <span className=\"text-xs font-medium\">{tab.label}</span>\n              </Button>\n            );\n          })}\n        </div>\n      </div>\n    </nav>\n  );\n}","size_bytes":1733},"client/src/components/CapacityMeter.tsx":{"content":"import { Circle } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface CapacityMeterProps {\n  used: number;\n  total: number;\n  size?: \"sm\" | \"md\" | \"lg\";\n  showLabel?: boolean;\n}\n\nexport default function CapacityMeter({ used, total, size = \"md\", showLabel = true }: CapacityMeterProps) {\n  // Ensure values are valid numbers\n  const safeUsed = Number(used) || 0;\n  const safeTotal = Number(total) || 1; // Prevent division by zero\n  const percentage = (safeUsed / safeTotal) * 100;\n  const getStatusColor = () => {\n    if (percentage >= 100) return \"text-destructive\";\n    if (percentage >= 80) return \"text-warning\";\n    return \"text-success\";\n  };\n\n  const sizeClasses = {\n    sm: \"w-3 h-3\",\n    md: \"w-4 h-4\",\n    lg: \"w-5 h-5\"\n  };\n\n  const textSizeClasses = {\n    sm: \"text-xs\",\n    md: \"text-sm\",\n    lg: \"text-base\"\n  };\n\n  // On mobile, limit circles to prevent overflow\n  const maxVisibleCircles = 8;\n  const showAllCircles = safeTotal <= maxVisibleCircles;\n  const circlesToShow = showAllCircles ? safeTotal : maxVisibleCircles;\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <div className=\"flex items-center gap-1 flex-wrap sm:flex-nowrap\">\n        {Array.from({ length: circlesToShow }, (_, i) => {\n          // For limited display, show proportion\n          const isFilledInLimited = showAllCircles \n            ? i < safeUsed \n            : i < Math.ceil((safeUsed / safeTotal) * circlesToShow);\n            \n          return (\n            <Circle\n              key={i}\n              className={cn(\n                sizeClasses[size],\n                isFilledInLimited ? \"fill-current\" : \"stroke-current fill-transparent\",\n                getStatusColor()\n              )}\n            />\n          );\n        })}\n        {!showAllCircles && (\n          <span className={cn(\"text-xs text-muted-foreground\", textSizeClasses[size])}>\n            ...\n          </span>\n        )}\n      </div>\n      {showLabel && (\n        <span className={cn(\"font-mono font-medium\", textSizeClasses[size], getStatusColor())}>\n          {safeUsed}/{safeTotal}\n        </span>\n      )}\n    </div>\n  );\n}","size_bytes":2126},"client/src/components/DriverDashboard.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { Play, Pause, MapPin, Users, Clock, ChevronDown, Settings } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Switch } from '@/components/ui/switch';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport CapacityMeter from './CapacityMeter';\nimport RouteConfig from './RouteConfig';\nimport RouteMap from './RouteMap';\n\ninterface Student {\n  id: string;\n  name: string;\n  stop: string;\n  timeSlot: 'morning' | 'afternoon';\n  isPickedUp?: boolean;\n}\n\ninterface DriverDashboardProps {\n  routeName: string;\n  route: any; // Full route object with capacity info\n  students: Student[];\n  stopOrderMap?: Record<string, { morningOrder: number; afternoonOrder: number }>;\n  onToggleRoute?: (isActive: boolean) => void;\n  onToggleStudent?: (studentId: string) => void;\n  activeTab?: string;\n  onTabChange?: (tab: string) => void;\n}\n\nexport default function DriverDashboard({\n  routeName,\n  route,\n  students,\n  stopOrderMap = {},\n  onToggleRoute,\n  onToggleStudent,\n  activeTab = 'manifest',\n  onTabChange\n}: DriverDashboardProps) {\n  const [isRouteActive, setIsRouteActive] = useState(false);\n  const [manifest, setManifest] = useState(students);\n  const [activeTimeSlot, setActiveTimeSlot] = useState<'morning' | 'afternoon'>('morning');\n  const [showRouteConfig, setShowRouteConfig] = useState(false);\n  \n  // Sync manifest with students prop when it changes (after API fetch)\n  useEffect(() => {\n    console.log(`DriverDashboard ${routeName}: students prop changed, length=${students.length}`, students);\n    setManifest(students);\n  }, [students]);\n  \n  const handleToggleRoute = () => {\n    const newState = !isRouteActive;\n    setIsRouteActive(newState);\n    if (onToggleRoute) {\n      onToggleRoute(newState);\n    }\n    console.log(`Route ${newState ? 'activated' : 'deactivated'}`);\n  };\n  \n  const handleToggleStudent = (studentId: string) => {\n    setManifest(prev => prev.map(student => \n      student.id === studentId \n        ? { ...student, isPickedUp: !student.isPickedUp }\n        : student\n    ));\n    if (onToggleStudent) {\n      onToggleStudent(studentId);\n    }\n    console.log(`Student ${studentId} toggled`);\n  };\n\n  // Split students by time slot\n  const morningStudents = manifest.filter(s => s.timeSlot === 'morning');\n  const afternoonStudents = manifest.filter(s => s.timeSlot === 'afternoon');\n  \n  const pickedUpCount = manifest.filter(s => s.isPickedUp).length;\n  const routeCapacity = route?.capacity || 14; // Use route capacity or default to 14\n\n  // Render students for a specific time slot\n  const renderTimeSlotContent = (timeSlot: 'morning' | 'afternoon') => {\n    const timeSlotStudents = timeSlot === 'morning' ? morningStudents : afternoonStudents;\n    const timeSlotLabel = timeSlot === 'morning' ? 'Morning Pickup' : 'Afternoon Dropoff';\n    \n    // Group students by stop\n    const groupedByStop = timeSlotStudents.reduce((acc, student) => {\n      if (!acc[student.stop]) {\n        acc[student.stop] = [];\n      }\n      acc[student.stop].push(student);\n      return acc;\n    }, {} as Record<string, Student[]>);\n\n    // Sort stops based on time slot (morning: A→B→C, afternoon: C→B→A)\n    const sortedStops = Object.entries(groupedByStop).sort(([stopA], [stopB]) => {\n      const orderA = stopOrderMap[stopA]?.[timeSlot === 'morning' ? 'morningOrder' : 'afternoonOrder'] || 999;\n      const orderB = stopOrderMap[stopB]?.[timeSlot === 'morning' ? 'morningOrder' : 'afternoonOrder'] || 999;\n      return orderA - orderB;\n    });\n\n    if (sortedStops.length === 0) {\n      return (\n        <div className=\"text-center py-8 text-muted-foreground\">\n          <Users className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n          <p>No students scheduled for {timeSlotLabel.toLowerCase()}</p>\n        </div>\n      );\n    }\n    \n    return (\n      <div className=\"space-y-3\">\n        <div className=\"flex items-center justify-between\">\n          <h3 className=\"font-medium\">{timeSlotLabel}</h3>\n          <Badge variant=\"secondary\">\n            {timeSlotStudents.length} student{timeSlotStudents.length !== 1 ? 's' : ''}\n          </Badge>\n        </div>\n        \n        {sortedStops.map(([stop, students], index) => {\n          const pickedUpAtStop = students.filter(s => s.isPickedUp).length;\n          const isNextStop = pickedUpAtStop === 0 && index === 0;\n          \n          return (\n            <Collapsible key={`${stop}-${timeSlot}`} defaultOpen={isNextStop}>\n              <Card>\n                <CollapsibleTrigger asChild>\n                  <CardHeader className=\"pb-3 cursor-pointer hover-elevate\">\n                    <div className=\"flex items-center justify-between w-full\">\n                      <div className=\"flex items-center gap-3\">\n                        <span className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-mono ${\n                          isNextStop \n                            ? 'bg-primary text-primary-foreground' \n                            : pickedUpAtStop === students.length \n                              ? 'bg-green-500 text-white'\n                              : 'bg-muted text-muted-foreground'\n                        }`}>\n                          {index + 1}\n                        </span>\n                        <div>\n                          <CardTitle className=\"text-base\">{stop}</CardTitle>\n                          {isNextStop && (\n                            <Badge variant=\"outline\" className=\"text-xs mt-1\">\n                              Next Stop\n                            </Badge>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge variant=\"secondary\">\n                          {pickedUpAtStop}/{students.length}\n                        </Badge>\n                        <ChevronDown className=\"w-4 h-4 text-muted-foreground\" />\n                      </div>\n                    </div>\n                  </CardHeader>\n                </CollapsibleTrigger>\n                <CollapsibleContent>\n                  <CardContent className=\"pt-0\">\n                    <div className=\"space-y-2\">\n                      {students.map(student => (\n                        <div \n                          key={student.id}\n                          className=\"flex items-center justify-between p-4 rounded border hover-elevate cursor-pointer min-h-16\"\n                          onClick={() => handleToggleStudent(student.id)}\n                        >\n                          <div className=\"flex items-center gap-3\">\n                            <div className={`w-6 h-6 rounded border-2 flex items-center justify-center ${\n                              student.isPickedUp \n                                ? 'bg-green-500 border-green-500 text-white' \n                                : 'border-muted-foreground'\n                            }`}>\n                              {student.isPickedUp && '✓'}\n                            </div>\n                            <span className={`font-medium ${\n                              student.isPickedUp ? 'line-through text-muted-foreground' : ''\n                            }`}>\n                              {student.name}\n                            </span>\n                          </div>\n                          <Button\n                            size=\"sm\"\n                            variant={student.isPickedUp ? 'secondary' : 'default'}\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleToggleStudent(student.id);\n                            }}\n                            data-testid={`button-toggle-student-${student.id}`}\n                            className=\"min-h-11 min-w-20\"\n                          >\n                            {student.isPickedUp ? 'Undo' : 'Pick Up'}\n                          </Button>\n                        </div>\n                      ))}\n                    </div>\n                  </CardContent>\n                </CollapsibleContent>\n              </Card>\n            </Collapsible>\n          );\n        })}\n      </div>\n    );\n  };\n\n  // Render different content based on active tab\n  const renderTabContent = () => {\n    if (showRouteConfig) {\n      return (\n        <RouteConfig \n          routeName={routeName}\n          routeId={route.id}\n          onClose={() => setShowRouteConfig(false)}\n        />\n      );\n    }\n    \n    switch (activeTab) {\n      case 'map':\n        return (\n          <RouteMap \n            routeName={routeName}\n            timeSlot={activeTimeSlot}\n            students={manifest}\n          />\n        );\n      case 'manifest':\n      default:\n        return (\n          <Tabs value={activeTimeSlot} onValueChange={(value) => setActiveTimeSlot(value as 'morning' | 'afternoon')}>\n            <TabsList className=\"grid w-full grid-cols-2\">\n              <TabsTrigger value=\"morning\" data-testid=\"tab-morning\">\n                Morning Pickup ({morningStudents.length})\n              </TabsTrigger>\n              <TabsTrigger value=\"afternoon\" data-testid=\"tab-afternoon\">\n                Afternoon Dropoff ({afternoonStudents.length})\n              </TabsTrigger>\n            </TabsList>\n            <TabsContent value=\"morning\" className=\"mt-4\">\n              {renderTimeSlotContent('morning')}\n            </TabsContent>\n            <TabsContent value=\"afternoon\" className=\"mt-4\">\n              {renderTimeSlotContent('afternoon')}\n            </TabsContent>\n          </Tabs>\n        );\n    }\n  };\n  \n  return (\n    <div className=\"space-y-4\">\n      {/* Sticky Route Control Card */}\n      <Card className=\"sticky top-4 z-10 bg-card\">\n        <CardHeader className=\"pb-3\">\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2 text-base\">\n              <MapPin className=\"w-4 h-4\" />\n              {routeName}\n            </CardTitle>\n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setShowRouteConfig(true)}\n                data-testid={`button-edit-route-${route.id}`}\n                className=\"min-h-9\"\n              >\n                <Settings className=\"w-4 h-4 mr-1\" />\n                Edit Route\n              </Button>\n              <Switch\n                checked={isRouteActive}\n                onCheckedChange={handleToggleRoute}\n                data-testid=\"switch-route-active\"\n              />\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent className=\"pt-0\">\n          <div className=\"flex items-center justify-between\">\n            <CapacityMeter used={manifest.length} total={routeCapacity} size=\"sm\" />\n            <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n              <span>{pickedUpCount}/{manifest.length} picked up</span>\n              {isRouteActive && (\n                <Badge variant=\"outline\" className=\"text-green-600 border-green-600\">\n                  <div className=\"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse\"></div>\n                  Live\n                </Badge>\n              )}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n      \n      {/* Tab Content */}\n      {renderTabContent()}\n    </div>\n  );\n}","size_bytes":11725},"client/src/components/ParentDashboard.tsx":{"content":"import { useState } from 'react';\nimport { Calendar, Plus, Clock } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { useQuery, useMutation } from '@tanstack/react-query';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest, queryClient } from '@/lib/queryClient';\nimport BookingCard from './BookingCard';\nimport BookingForm from './BookingForm';\nimport RouteCard from './RouteCard';\n\ninterface Booking {\n  id: string;\n  studentName: string;\n  route: string;\n  stop: string;\n  date: string;\n  timeSlot: 'morning' | 'afternoon';\n  time: string;\n  status: 'confirmed' | 'cancelled';\n}\n\ninterface Student {\n  id: string;\n  name: string;\n  parentId: string;\n}\n\ninterface ParentDashboardProps {\n  bookings: Booking[];\n  students: Student[];\n  onCancelBooking?: (id: string) => void;\n  onNewBooking?: () => void;\n  activeTab?: string;\n  onTabChange?: (tab: string) => void;\n  isLoading?: boolean;\n}\n\nexport default function ParentDashboard({\n  bookings,\n  students,\n  onCancelBooking,\n  onNewBooking,\n  activeTab = 'bookings',\n  onTabChange,\n  isLoading = false\n}: ParentDashboardProps) {\n  const [showBookingForm, setShowBookingForm] = useState(false);\n  const { toast } = useToast();\n  \n  // Fetch routes from backend\n  const { data: routesData, isLoading: routesLoading } = useQuery({\n    queryKey: ['/api/routes'],\n    enabled: activeTab === 'book' || showBookingForm\n  });\n  \n  // Create booking mutation\n  const createBookingMutation = useMutation({\n    mutationFn: async (bookingData: any) => {\n      return apiRequest('/api/bookings', {\n        method: 'POST',\n        body: bookingData\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/bookings'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/routes'] });\n      toast({\n        title: 'Booking created',\n        description: 'Your transportation has been successfully booked.',\n      });\n      setShowBookingForm(false);\n      if (onTabChange) onTabChange('bookings');\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Booking failed',\n        description: error.message || 'Failed to create booking',\n        variant: 'destructive',\n      });\n    }\n  });\n  \n  const upcomingBookings = bookings.filter(b => b.status === 'confirmed');\n  const recentBookings = bookings.slice(-5);\n  \n  const groupedBookings = upcomingBookings.reduce((acc, booking) => {\n    if (!acc[booking.date]) {\n      acc[booking.date] = [];\n    }\n    acc[booking.date].push(booking);\n    return acc;\n  }, {} as Record<string, Booking[]>);\n  \n  const routes = routesData?.routes || [];\n  \n  // Handle tab-based booking form for mobile\n  if (showBookingForm || activeTab === 'book') {\n    const handleBookingSubmit = (bookingData: any) => {\n      createBookingMutation.mutate(bookingData);\n    };\n    \n    // Transform routes for booking form\n    const formRoutes = routes.map((route: any) => ({\n      id: route.id,\n      name: route.name,\n      area: route.area || 'area',\n      stops: route.stops?.map((stop: any) => ({\n        id: stop.id,\n        name: stop.name,\n        availableSeats: Math.max(0, route.capacity - (stop.bookedSeats || 0)),\n        time: stop.morningTime || '8:00 AM'\n      })) || []\n    }));\n    \n    if (routesLoading) {\n      return (\n        <div className=\"flex items-center justify-center p-8\">\n          <div className=\"text-center space-y-4\">\n            <div className=\"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto\" />\n            <p className=\"text-muted-foreground\">Loading booking form...</p>\n          </div>\n        </div>\n      );\n    }\n    \n    return (\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <h1 className=\"text-xl font-bold\">Book Transportation</h1>\n          <Button\n            variant=\"ghost\"\n            onClick={() => {\n              setShowBookingForm(false);\n              if (onTabChange) onTabChange('bookings');\n            }}\n            className=\"md:hidden min-h-11\"\n          >\n            Cancel\n          </Button>\n        </div>\n        <BookingForm\n          students={students}\n          routes={formRoutes}\n          selectedDate={new Date().toLocaleDateString('en-US', { \n            weekday: 'long',\n            year: 'numeric', \n            month: 'long', \n            day: 'numeric' \n          })}\n          onSubmit={handleBookingSubmit}\n          onCancel={() => {\n            setShowBookingForm(false);\n            if (onTabChange) onTabChange('bookings');\n          }}\n          isSubmitting={createBookingMutation.isPending}\n        />\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"space-y-4\">\n      {/* Mobile-optimized header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-xl font-bold\">Transportation</h1>\n          <p className=\"text-sm text-muted-foreground\">Manage your child's bookings</p>\n        </div>\n        <Button\n          onClick={() => {\n            setShowBookingForm(true);\n            if (onNewBooking) onNewBooking();\n          }}\n          data-testid=\"button-new-booking\"\n          className=\"flex items-center gap-2 md:hidden min-h-11\"\n          disabled={isLoading}\n        >\n          <Plus className=\"w-4 h-4\" />\n          Book\n        </Button>\n      </div>\n      \n      <Tabs value={activeTab} onValueChange={onTabChange} className=\"space-y-4\">\n        <TabsList className=\"grid w-full grid-cols-2\">\n          <TabsTrigger value=\"bookings\" className=\"text-sm\">My Bookings</TabsTrigger>\n          <TabsTrigger value=\"routes\" className=\"text-sm\">View Routes</TabsTrigger>\n        </TabsList>\n        \n        <TabsContent value=\"bookings\" className=\"space-y-4\">\n          {upcomingBookings.length === 0 ? (\n            <Card>\n              <CardContent className=\"py-8\">\n                <div className=\"text-center\">\n                  <Calendar className=\"w-12 h-12 text-muted-foreground mx-auto mb-4\" />\n                  <h3 className=\"font-medium mb-2\">No upcoming bookings</h3>\n                  <p className=\"text-sm text-muted-foreground mb-4\">\n                    You don't have any transportation bookings scheduled.\n                  </p>\n                  <Button \n                    onClick={() => {\n                      setShowBookingForm(true);\n                      if (onTabChange) onTabChange('book');\n                    }}\n                    className=\"min-h-11\"\n                    disabled={isLoading}\n                  >\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Book Transportation\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"space-y-4\">\n              <div className=\"hidden md:flex md:justify-end\">\n                <Button \n                  onClick={() => {\n                    setShowBookingForm(true);\n                    if (onNewBooking) onNewBooking();\n                  }}\n                  className=\"min-h-11\"\n                  disabled={isLoading}\n                >\n                  <Plus className=\"w-4 h-4 mr-2\" />\n                  Book Transportation\n                </Button>\n              </div>\n              \n              {Object.entries(groupedBookings).map(([date, dayBookings]) => (\n                <div key={date} className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <Clock className=\"w-4 h-4 text-muted-foreground\" />\n                    <h3 className=\"font-medium text-sm\">{date}</h3>\n                  </div>\n                  <div className=\"grid gap-2\">\n                    {dayBookings.map((booking) => (\n                      <BookingCard\n                        key={booking.id}\n                        {...booking}\n                        onCancel={onCancelBooking}\n                        canCancel={!isLoading}\n                      />\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n          \n          {recentBookings.length > 0 && (\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-base\">Recent Activity</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                {recentBookings.map((booking) => (\n                  <BookingCard\n                    key={`recent-${booking.id}`}\n                    {...booking}\n                    canCancel={false}\n                    className=\"bg-muted/30\"\n                  />\n                ))}\n              </CardContent>\n            </Card>\n          )}\n        </TabsContent>\n        \n        <TabsContent value=\"routes\" className=\"space-y-4\">\n          {routes.length === 0 ? (\n            <Card>\n              <CardContent className=\"py-8\">\n                <div className=\"text-center\">\n                  <Calendar className=\"w-12 h-12 text-muted-foreground mx-auto mb-4\" />\n                  <h3 className=\"font-medium mb-2\">No routes available</h3>\n                  <p className=\"text-sm text-muted-foreground\">\n                    No transportation routes are currently configured.\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"grid gap-4\">\n              {routes.map((route: any) => (\n                <RouteCard\n                  key={route.id}\n                  id={route.id}\n                  name={route.name}\n                  area={route.area}\n                  capacity={route.capacity}\n                  stops={route.stops || []}\n                  timeSlot={route.timeSlot || 'morning'}\n                  isDriverActive={route.isDriverActive || false}\n                />\n              ))}\n            </div>\n          )}\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}","size_bytes":10109},"client/src/components/RouteCard.tsx":{"content":"import { MapPin, Clock, Users } from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport CapacityMeter from \"./CapacityMeter\";\nimport { cn } from \"@/lib/utils\";\n\ninterface Stop {\n  id: string;\n  name: string;\n  morningTime?: string;\n  afternoonTime?: string;\n  bookedSeats: number;\n}\n\ninterface RouteCardProps {\n  id: string;\n  name: string;\n  area: string;\n  capacity: number;\n  stops: Stop[];\n  timeSlot: \"morning\" | \"afternoon\";\n  isDriverActive?: boolean;\n  onSelect?: () => void;\n  className?: string;\n}\n\nexport default function RouteCard({ \n  name, \n  area, \n  capacity, \n  stops, \n  timeSlot, \n  isDriverActive = false, \n  onSelect,\n  className \n}: RouteCardProps) {\n  const totalBooked = stops.reduce((sum, stop) => sum + (stop.bookedSeats || 0), 0);\n  const availableSeats = Math.max(0, capacity - totalBooked);\n  \n  const getStatusColor = () => {\n    if (availableSeats === 0) return \"destructive\";\n    if (availableSeats <= 2) return \"secondary\";\n    return \"default\";\n  };\n\n  return (\n    <Card className={cn(\"hover-elevate cursor-pointer min-h-44\", className)} onClick={onSelect}>\n      <CardHeader className=\"pb-2\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <MapPin className=\"w-5 h-5 text-primary\" />\n            <CardTitle className=\"text-lg\">{name}</CardTitle>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            {isDriverActive && (\n              <Badge variant=\"outline\" className=\"text-success border-success\">\n                Live\n              </Badge>\n            )}\n            <Badge variant={getStatusColor()}>\n              {availableSeats === 0 ? \"Full\" : `${availableSeats} seats`}\n            </Badge>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Clock className=\"w-4 h-4 text-muted-foreground\" />\n            <span className=\"text-sm text-muted-foreground capitalize\">\n              {timeSlot} Route\n            </span>\n          </div>\n          <CapacityMeter used={totalBooked} total={capacity} size=\"sm\" />\n        </div>\n        \n        <div className=\"space-y-2\">\n          <h4 className=\"text-sm font-medium flex items-center gap-2\">\n            <Users className=\"w-4 h-4\" />\n            Stops ({stops.length})\n          </h4>\n          <div className=\"space-y-1\">\n            {/* Show first 2 stops on mobile, all on desktop */}\n            {stops.slice(0, 2).map((stop, index) => {\n              const time = timeSlot === \"morning\" ? stop.morningTime : stop.afternoonTime;\n              return (\n                <div key={stop.id} className=\"flex items-center justify-between text-sm p-3 rounded bg-muted/50 min-h-11\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs flex items-center justify-center font-mono\">\n                      {index + 1}\n                    </span>\n                    <div>\n                      <div className=\"font-medium\">{stop.name}</div>\n                      {time && (\n                        <div className=\"text-muted-foreground font-mono text-xs\">\n                          {time}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"text-muted-foreground text-xs\">\n                    {stop.bookedSeats}/{capacity}\n                  </div>\n                </div>\n              );\n            })}\n            {stops.length > 2 && (\n              <div className=\"text-center py-2\">\n                <span className=\"text-xs text-muted-foreground\">\n                  +{stops.length - 2} more stops\n                </span>\n              </div>\n            )}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":4089},"client/src/components/ThemeProvider.tsx":{"content":"import { createContext, useContext, useEffect, useState } from 'react';\n\ntype Theme = 'dark' | 'light' | 'system';\n\ntype ThemeProviderProps = {\n  children: React.ReactNode;\n  defaultTheme?: Theme;\n  storageKey?: string;\n};\n\ntype ThemeProviderState = {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n};\n\nconst initialState: ThemeProviderState = {\n  theme: 'system',\n  setTheme: () => null,\n};\n\nconst ThemeProviderContext = createContext<ThemeProviderState>(initialState);\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = 'system',\n  storageKey = 'ui-theme',\n  ...props\n}: ThemeProviderProps) {\n  const [theme, setTheme] = useState<Theme>(\n    () => (localStorage.getItem(storageKey) as Theme) || defaultTheme\n  );\n\n  useEffect(() => {\n    const root = window.document.documentElement;\n\n    root.classList.remove('light', 'dark');\n\n    if (theme === 'system') {\n      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)')\n        .matches\n        ? 'dark'\n        : 'light';\n\n      root.classList.add(systemTheme);\n      return;\n    }\n\n    root.classList.add(theme);\n  }, [theme]);\n\n  const value = {\n    theme,\n    setTheme: (theme: Theme) => {\n      localStorage.setItem(storageKey, theme);\n      setTheme(theme);\n    },\n  };\n\n  return (\n    <ThemeProviderContext.Provider {...props} value={value}>\n      {children}\n    </ThemeProviderContext.Provider>\n  );\n}\n\nexport const useTheme = () => {\n  const context = useContext(ThemeProviderContext);\n\n  if (context === undefined)\n    throw new Error('useTheme must be used within a ThemeProvider');\n\n  return context;\n};","size_bytes":1599},"client/src/components/ThemeToggle.tsx":{"content":"import { Moon, Sun } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { useTheme } from './ThemeProvider';\n\nexport default function ThemeToggle() {\n  const { theme, setTheme } = useTheme();\n\n  const toggleTheme = () => {\n    setTheme(theme === 'light' ? 'dark' : 'light');\n  };\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={toggleTheme}\n      data-testid=\"button-theme-toggle\"\n      className=\"relative\"\n    >\n      <Sun className=\"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n      <Moon className=\"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n      <span className=\"sr-only\">Toggle theme</span>\n    </Button>\n  );\n}","size_bytes":746},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  url: string,\n  options: {\n    method: string;\n    body?: unknown;\n  }\n): Promise<Response> {\n  const res = await fetch(url, {\n    method: options.method,\n    headers: options.body ? { \"Content-Type\": \"application/json\" } : {},\n    body: options.body ? JSON.stringify(options.body) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1432},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/components/examples/BookingCard.tsx":{"content":"import { useState } from 'react';\nimport BookingCard from '../BookingCard';\n\nexport default function BookingCardExample() {\n  const [bookings, setBookings] = useState([\n    {\n      id: '1',\n      studentName: 'Alex Johnson',\n      route: 'Frisco Route',\n      stop: 'Main Street Plaza',\n      date: 'Dec 15, 2024',\n      timeSlot: 'morning' as const,\n      time: '7:30 AM',\n      status: 'confirmed' as const\n    },\n    {\n      id: '2',\n      studentName: 'Emma Davis',\n      route: 'Dallas Route',\n      stop: 'Community Center',\n      date: 'Dec 15, 2024',\n      timeSlot: 'afternoon' as const,\n      time: '3:45 PM',\n      status: 'confirmed' as const\n    },\n    {\n      id: '3',\n      studentName: 'Michael Chen',\n      route: 'Frisco Route',\n      stop: 'Soccer Academy',\n      date: 'Dec 14, 2024',\n      timeSlot: 'morning' as const,\n      time: '8:00 AM',\n      status: 'cancelled' as const\n    }\n  ]);\n\n  const handleCancel = (id: string) => {\n    setBookings(prev => prev.map(booking => \n      booking.id === id ? { ...booking, status: 'cancelled' as const } : booking\n    ));\n    console.log(`Cancelled booking ${id}`);\n  };\n\n  return (\n    <div className=\"p-4 space-y-4\">\n      {bookings.map(booking => (\n        <BookingCard\n          key={booking.id}\n          {...booking}\n          onCancel={handleCancel}\n        />\n      ))}\n    </div>\n  );\n}","size_bytes":1360},"client/src/components/examples/BookingForm.tsx":{"content":"import BookingForm from '../BookingForm';\n\nexport default function BookingFormExample() {\n  const mockStudents = [\n    { id: '1', name: 'Alex Johnson' },\n    { id: '2', name: 'Emma Davis' },\n    { id: '3', name: 'Michael Chen' }\n  ];\n\n  const mockRoutes = [\n    {\n      id: 'frisco',\n      name: 'Frisco Route',\n      area: 'frisco',\n      stops: [\n        {\n          id: 'stop1',\n          name: 'Main Street Plaza',\n          availableSeats: 8,\n          time: '7:30 AM'\n        },\n        {\n          id: 'stop2',\n          name: 'Community Center',\n          availableSeats: 2,\n          time: '7:45 AM'\n        },\n        {\n          id: 'stop3',\n          name: 'Soccer Academy',\n          availableSeats: 0,\n          time: '8:00 AM'\n        }\n      ]\n    },\n    {\n      id: 'dallas',\n      name: 'Dallas Route',\n      area: 'dallas',\n      stops: [\n        {\n          id: 'stop4',\n          name: 'Downtown Center',\n          availableSeats: 5,\n          time: '7:30 AM'\n        },\n        {\n          id: 'stop5',\n          name: 'Park Plaza',\n          availableSeats: 12,\n          time: '7:45 AM'\n        }\n      ]\n    }\n  ];\n\n  return (\n    <div className=\"p-4\">\n      <BookingForm\n        students={mockStudents}\n        routes={mockRoutes}\n        selectedDate=\"December 15, 2024\"\n        onSubmit={(booking) => console.log('Booking submitted:', booking)}\n        onCancel={() => console.log('Booking cancelled')}\n      />\n    </div>\n  );\n}","size_bytes":1457},"client/src/components/examples/CapacityMeter.tsx":{"content":"import CapacityMeter from '../CapacityMeter';\n\nexport default function CapacityMeterExample() {\n  return (\n    <div className=\"p-4 space-y-4\">\n      <div className=\"space-y-2\">\n        <h3 className=\"font-medium\">Available Seats</h3>\n        <CapacityMeter used={8} total={14} />\n      </div>\n      <div className=\"space-y-2\">\n        <h3 className=\"font-medium\">Nearly Full</h3>\n        <CapacityMeter used={12} total={14} />\n      </div>\n      <div className=\"space-y-2\">\n        <h3 className=\"font-medium\">Fully Booked</h3>\n        <CapacityMeter used={14} total={14} />\n      </div>\n    </div>\n  );\n}","size_bytes":605},"client/src/components/examples/DriverDashboard.tsx":{"content":"import DriverDashboard from '../DriverDashboard';\n\nexport default function DriverDashboardExample() {\n  const mockStudents = [\n    {\n      id: '1',\n      name: 'Alex Johnson',\n      stop: 'Main Street Plaza',\n      isPickedUp: false\n    },\n    {\n      id: '2',\n      name: 'Emma Davis',\n      stop: 'Main Street Plaza',\n      isPickedUp: true\n    },\n    {\n      id: '3',\n      name: 'Michael Chen',\n      stop: 'Community Center',\n      isPickedUp: false\n    },\n    {\n      id: '4',\n      name: 'Sarah Wilson',\n      stop: 'Community Center',\n      isPickedUp: false\n    },\n    {\n      id: '5',\n      name: 'David Rodriguez',\n      stop: 'Soccer Academy',\n      isPickedUp: true\n    }\n  ];\n\n  return (\n    <div className=\"p-4\">\n      <DriverDashboard\n        routeName=\"Frisco Route\"\n        timeSlot=\"morning\"\n        students={mockStudents}\n        onToggleRoute={(isActive) => console.log('Route toggled:', isActive)}\n        onToggleStudent={(studentId) => console.log('Student toggled:', studentId)}\n      />\n    </div>\n  );\n}","size_bytes":1031},"client/src/components/examples/RouteCard.tsx":{"content":"import RouteCard from '../RouteCard';\n\nexport default function RouteCardExample() {\n  const mockStops = [\n    {\n      id: \"1\",\n      name: \"Main Street Plaza\",\n      morningTime: \"7:30 AM\",\n      afternoonTime: \"3:30 PM\",\n      bookedSeats: 4\n    },\n    {\n      id: \"2\", \n      name: \"Community Center\",\n      morningTime: \"7:45 AM\",\n      afternoonTime: \"3:45 PM\",\n      bookedSeats: 3\n    },\n    {\n      id: \"3\",\n      name: \"Soccer Academy\",\n      morningTime: \"8:00 AM\",\n      afternoonTime: \"4:00 PM\",\n      bookedSeats: 2\n    }\n  ];\n\n  return (\n    <div className=\"p-4 space-y-4\">\n      <RouteCard\n        id=\"frisco-1\"\n        name=\"Frisco Route\"\n        area=\"frisco\"\n        capacity={14}\n        stops={mockStops}\n        timeSlot=\"morning\"\n        isDriverActive={true}\n        onSelect={() => console.log('Frisco route selected')}\n      />\n      <RouteCard\n        id=\"dallas-1\"\n        name=\"Dallas Route\"\n        area=\"dallas\"\n        capacity={14}\n        stops={mockStops.map(stop => ({ ...stop, bookedSeats: stop.bookedSeats + 3 }))}\n        timeSlot=\"afternoon\"\n        isDriverActive={false}\n        onSelect={() => console.log('Dallas route selected')}\n      />\n    </div>\n  );\n}","size_bytes":1199},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/components/LoginForm.tsx":{"content":"import { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Loader2 } from 'lucide-react';\nimport sisuLogo from '@assets/Sisu_Logos-04_1759437158030.png';\n\ninterface LoginFormProps {\n  onSwitchToSignup: () => void;\n}\n\nexport default function LoginForm({ onSwitchToSignup }: LoginFormProps) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const { login } = useAuth();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!email || !password) {\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await login(email, password);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md space-y-6\">\n        {/* Header */}\n        <div className=\"text-center space-y-2\">\n          <div className=\"flex flex-col items-center justify-center gap-4 mb-6\">\n            <img src={sisuLogo} alt=\"SISU Soccer Academy\" className=\"h-32 w-auto\" />\n            <h2 className=\"text-xl font-bold\">Transportation System</h2>\n          </div>\n        </div>\n\n        {/* Login Form */}\n        <Card>\n          <CardHeader className=\"space-y-1\">\n            <CardTitle className=\"text-xl\">Sign in to your account</CardTitle>\n            <CardDescription>\n              Enter your email and password to access the transportation system\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\">Email</Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"your@email.com\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-email\"\n                  className=\"min-h-11\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\">Password</Label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"Enter your password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-password\"\n                  className=\"min-h-11\"\n                />\n              </div>\n              <Button \n                type=\"submit\" \n                className=\"w-full min-h-11\"\n                disabled={isLoading || !email || !password}\n                data-testid=\"button-login\"\n              >\n                {isLoading ? (\n                  <>\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                    Signing in...\n                  </>\n                ) : (\n                  'Sign in'\n                )}\n              </Button>\n            </form>\n            \n            <div className=\"mt-4 text-center text-sm\">\n              <span className=\"text-muted-foreground\">Don't have an account? </span>\n              <button\n                type=\"button\"\n                className=\"text-primary hover:underline font-normal\"\n                onClick={onSwitchToSignup}\n                data-testid=\"button-switch-to-signup\"\n              >\n                Create account\n              </button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Demo Information */}\n        <Card className=\"bg-muted/50\">\n          <CardContent className=\"pt-4\">\n            <div className=\"text-center space-y-2\">\n              <h3 className=\"font-medium text-sm\">Demo Accounts</h3>\n              <div className=\"text-xs text-muted-foreground space-y-1\">\n                <p><strong>Parent:</strong> parent@demo.com / password123</p>\n                <p><strong>Driver:</strong> driver@demo.com / password123</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}","size_bytes":4536},"client/src/contexts/AuthContext.tsx":{"content":"import { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { useToast } from '@/hooks/use-toast';\n\nexport interface User {\n  id: string;\n  name: string;\n  email: string;\n  role: 'parent' | 'driver';\n}\n\ninterface AuthContextType {\n  user: User | null;\n  isLoading: boolean;\n  login: (email: string, password: string) => Promise<boolean>;\n  logout: () => Promise<void>;\n  isAuthenticated: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport function AuthProvider({ children }: AuthProviderProps) {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const { toast } = useToast();\n\n  // Check if user is already authenticated on app load\n  useEffect(() => {\n    checkAuthStatus();\n  }, []);\n\n  const checkAuthStatus = async () => {\n    try {\n      const response = await fetch('/api/auth/me', {\n        credentials: 'include'\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setUser(data.user);\n      }\n    } catch (error) {\n      console.error('Auth check failed:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const login = async (email: string, password: string): Promise<boolean> => {\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({ email, password }),\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setUser(data.user);\n        toast({\n          title: 'Welcome back!',\n          description: `Logged in as ${data.user.role}`,\n        });\n        return true;\n      } else {\n        const error = await response.json();\n        toast({\n          title: 'Login failed',\n          description: error.error || 'Invalid credentials',\n          variant: 'destructive',\n        });\n        return false;\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      toast({\n        title: 'Login failed',\n        description: 'Network error. Please try again.',\n        variant: 'destructive',\n      });\n      return false;\n    }\n  };\n\n  const logout = async () => {\n    try {\n      await fetch('/api/auth/logout', {\n        method: 'POST',\n        credentials: 'include',\n      });\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      setUser(null);\n      toast({\n        title: 'Logged out',\n        description: 'You have been logged out successfully.',\n      });\n    }\n  };\n\n  const value: AuthContextType = {\n    user,\n    isLoading,\n    login,\n    logout,\n    isAuthenticated: !!user,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n}","size_bytes":3105},"replit.md":{"content":"# Soccer Academy Transportation System\n\n## Overview\n\nA comprehensive web application for managing soccer academy transportation services. The system provides real-time route management, student booking capabilities, and driver coordination for Frisco and Dallas area routes. Built with a modern React frontend and Express backend, the application serves parents who need to book transportation for their children and drivers who manage van routes and student manifests.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n- **React with TypeScript**: Single-page application using modern React patterns with TypeScript for type safety\n- **Tailwind CSS + Shadcn/ui**: Utility-first CSS framework with a comprehensive component library for consistent design\n- **Mobile-First Design**: Responsive layout optimized for mobile devices with bottom navigation for parents and drivers\n- **Context-Based State Management**: Authentication context for user session management with React Query for server state\n- **Role-Based UI**: Conditional rendering based on user roles (parent vs driver) with dedicated dashboards\n\n### Backend Architecture\n- **Express.js with TypeScript**: RESTful API server with type-safe route handlers\n- **Session-Based Authentication**: Secure cookie-based sessions with bcrypt password hashing\n- **Role-Based Access Control**: Middleware enforcement for parent and driver specific endpoints\n- **Modular Route Structure**: Organized API endpoints for authentication, bookings, students, and routes\n\n### Database Design\n- **PostgreSQL with Drizzle ORM**: Type-safe database operations with schema migrations\n- **User Management**: Supports parent and driver roles with account activation status\n- **Student-Parent Relationships**: Each student linked to a parent user account\n- **Route and Stop Management**: Hierarchical structure for routes containing multiple stops\n- **Booking System**: Links students to specific routes, stops, and time slots\n- **Driver Assignments**: Associates drivers with routes for shift management\n\n### Authentication & Authorization\n- **Session Management**: HTTP-only cookies with 7-day expiration for security\n- **Password Security**: Bcrypt hashing with 12 salt rounds\n- **Role-Based Middleware**: Separate middleware for parent and driver access control\n- **Data Isolation**: Parents can only access their own students and bookings; drivers only see assigned routes\n\n### Design System\n- **Color-Coded Safety First**: High-contrast color palette emphasizing child safety information\n- **Capacity Visualization**: Real-time seat availability using filled circle indicators (14-seat capacity)\n- **Time-Sensitive Displays**: Clear typography for schedules using tabular numbers\n- **Transportation-Inspired UX**: Design patterns borrowed from ride-sharing and school management applications\n\n## External Dependencies\n\n### Core Framework Dependencies\n- **@neondatabase/serverless**: PostgreSQL database connection for Neon cloud database\n- **drizzle-orm**: Type-safe database operations and schema management\n- **@tanstack/react-query**: Server state management and caching for React frontend\n\n### UI Component Library\n- **@radix-ui/react-***: Comprehensive set of accessible UI primitives (dialogs, dropdowns, forms, navigation)\n- **tailwindcss**: Utility-first CSS framework for responsive design\n- **class-variance-authority**: Type-safe component variant handling\n- **lucide-react**: Modern icon library for consistent iconography\n\n### Authentication & Security\n- **bcrypt**: Password hashing for secure credential storage\n- **connect-pg-simple**: PostgreSQL session store for Express sessions\n- **@hookform/resolvers**: Form validation with Zod schema integration\n\n### Development Tools\n- **vite**: Fast development build tool with hot module replacement\n- **typescript**: Type safety across frontend and backend\n- **@replit/vite-plugin-***: Replit-specific development enhancements for debugging and deployment\n\n### Email Integration\n- **@sendgrid/mail**: Email service for booking confirmations and notifications (configured but not yet implemented)\n\n### Build & Deployment\n- **esbuild**: Fast JavaScript bundler for production server builds\n- **tsx**: TypeScript execution engine for development server","size_bytes":4331},"server/auth.ts":{"content":"import { Request, Response, NextFunction } from 'express';\nimport { storage } from './storage';\nimport { User } from '@shared/schema';\nimport bcrypt from 'bcrypt';\n\n// Extend Express Request to include user and session\ndeclare global {\n  namespace Express {\n    interface Request {\n      user?: User;\n      sessionId?: string;\n    }\n  }\n}\n\nexport class AuthService {\n  private static SALT_ROUNDS = 12;\n\n  static async hashPassword(password: string): Promise<string> {\n    return bcrypt.hash(password, this.SALT_ROUNDS);\n  }\n\n  static async verifyPassword(password: string, hash: string): Promise<boolean> {\n    return bcrypt.compare(password, hash);\n  }\n\n  static async authenticateUser(email: string, password: string): Promise<User | null> {\n    const user = await storage.getUserByEmail(email);\n    if (!user || !user.isActive) {\n      return null;\n    }\n\n    const isValid = await this.verifyPassword(password, user.passwordHash);\n    return isValid ? user : null;\n  }\n\n  static async createSession(userId: string): Promise<string> {\n    // Create session that expires in 7 days\n    const expiresAt = new Date();\n    expiresAt.setDate(expiresAt.getDate() + 7);\n\n    const session = await storage.createSession({\n      userId,\n      expiresAt\n    });\n\n    return session.id;\n  }\n\n  static async validateSession(sessionId: string): Promise<User | null> {\n    const session = await storage.getSession(sessionId);\n    if (!session) {\n      return null;\n    }\n\n    const user = await storage.getUser(session.userId);\n    if (!user || !user.isActive) {\n      // Clean up invalid session\n      await storage.deleteSession(sessionId);\n      return null;\n    }\n\n    return user;\n  }\n\n  static async logout(sessionId: string): Promise<boolean> {\n    return storage.deleteSession(sessionId);\n  }\n}\n\n// Middleware to check if user is authenticated\nexport const requireAuth = async (req: Request, res: Response, next: NextFunction) => {\n  const sessionId = req.headers.authorization?.replace('Bearer ', '') || \n                   req.cookies?.sessionId;\n\n  if (!sessionId) {\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Auth middleware - No session ID found');\n    }\n    return res.status(401).json({ error: 'Authentication required' });\n  }\n\n  const user = await AuthService.validateSession(sessionId);\n  if (!user) {\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Auth middleware - Session validation failed');\n    }\n    return res.status(401).json({ error: 'Invalid or expired session' });\n  }\n\n  req.user = user;\n  req.sessionId = sessionId;\n  next();\n};\n\n// Middleware to check if user has specific role\nexport const requireRole = (allowedRoles: string[]) => {\n  return async (req: Request, res: Response, next: NextFunction) => {\n    if (!req.user) {\n      return res.status(401).json({ error: 'Authentication required' });\n    }\n\n    if (!allowedRoles.includes(req.user.role)) {\n      return res.status(403).json({ \n        error: 'Access denied', \n        message: `This action requires one of the following roles: ${allowedRoles.join(', ')}` \n      });\n    }\n\n    next();\n  };\n};\n\n// Convenience middlewares for specific roles\nexport const requireParent = requireRole(['parent']);\nexport const requireDriver = requireRole(['driver']);\nexport const requireParentOrDriver = requireRole(['parent', 'driver']);\n\n// Middleware to ensure parents can only access their own data\nexport const requireParentDataAccess = async (req: Request, res: Response, next: NextFunction) => {\n  if (!req.user) {\n    return res.status(401).json({ error: 'Authentication required' });\n  }\n\n  if (req.user.role !== 'parent') {\n    return res.status(403).json({ error: 'Parent access required' });\n  }\n\n  // Add parent ID to request for data filtering\n  req.parentId = req.user.id;\n  next();\n};\n\n// Middleware to ensure drivers can only access their assigned routes\nexport const requireDriverDataAccess = async (req: Request, res: Response, next: NextFunction) => {\n  if (!req.user) {\n    return res.status(401).json({ error: 'Authentication required' });\n  }\n\n  if (req.user.role !== 'driver') {\n    return res.status(403).json({ error: 'Driver access required' });\n  }\n\n  // Add driver ID to request for data filtering\n  req.driverId = req.user.id;\n  next();\n};\n\n// Extend Request interface to include role-specific IDs\ndeclare global {\n  namespace Express {\n    interface Request {\n      parentId?: string;\n      driverId?: string;\n    }\n  }\n}","size_bytes":4466},"client/src/components/RouteConfig.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { Plus, Edit, Trash2, Clock, MapPin, Save, X } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Separator } from '@/components/ui/separator';\nimport { useQuery, useMutation } from '@tanstack/react-query';\nimport { apiRequest, queryClient } from '@/lib/queryClient';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface Stop {\n  id: string;\n  routeId: string;\n  name: string;\n  address: string;\n  morningOrder: number;\n  afternoonOrder: number;\n  morningPickupTime: string | null;\n  afternoonDropoffTime: string | null;\n  fridayMorningPickupTime: string | null;\n  fridayAfternoonDropoffTime: string | null;\n  earlyReleaseMorningPickupTime: string | null;\n  earlyReleaseAfternoonDropoffTime: string | null;\n}\n\ninterface Route {\n  id: string;\n  name: string;\n  area: string;\n  capacity: number;\n}\n\ninterface RouteConfigProps {\n  routeName: string;\n  routeId?: string;\n  onClose?: () => void;\n}\n\nexport default function RouteConfig({ routeName, routeId, onClose }: RouteConfigProps) {\n  const { toast } = useToast();\n  \n  // Get driver's assigned routes to find the current route ID\n  const { data: assignments, error: assignmentsError } = useQuery({\n    queryKey: ['/api/driver/assignments'],\n    enabled: !routeId // Only fetch if routeId not provided\n  });\n  \n  const currentRouteId = routeId || (assignments as any)?.assignments?.[0]?.routeId;\n  \n  // Get route details\n  const { data: routeData, error: routeError } = useQuery({\n    queryKey: ['/api/routes', currentRouteId],\n    enabled: !!currentRouteId\n  });\n  \n  // Get stops for the current route\n  const { data: stopsData, isLoading, error: stopsError } = useQuery({\n    queryKey: ['/api/driver/routes', currentRouteId, 'stops'],\n    enabled: !!currentRouteId\n  });\n  \n  const route = (routeData as any)?.route;\n  const stops = (stopsData as any)?.stops || [];\n  \n  // Debug logging for authentication issues\n  if (assignmentsError) {\n    console.error('Assignments error:', assignmentsError);\n  }\n  if (routeError) {\n    console.error('Route error:', routeError);\n  }\n  if (stopsError) {\n    console.error('Stops error:', stopsError);\n  }\n\n  const [editingStop, setEditingStop] = useState<string | null>(null);\n  const [newStop, setNewStop] = useState({\n    name: '',\n    address: '',\n    // Regular times\n    morningPickupTime: '',\n    afternoonDropoffTime: '',\n    // Friday times\n    fridayMorningPickupTime: '',\n    fridayAfternoonDropoffTime: '',\n    // Early release times\n    earlyReleaseMorningPickupTime: '',\n    earlyReleaseAfternoonDropoffTime: ''\n  });\n  const [isAddingStop, setIsAddingStop] = useState(false);\n  const [isEditingRoute, setIsEditingRoute] = useState(false);\n  const [routeCapacity, setRouteCapacity] = useState(route?.capacity || 14);\n\n  // Update routeCapacity when route data loads\n  useEffect(() => {\n    if (route?.capacity) {\n      setRouteCapacity(route.capacity);\n    }\n  }, [route?.capacity]);\n\n  const handleEditStop = (stopId: string) => {\n    const stop = stops.find((s: Stop) => s.id === stopId);\n    if (stop) {\n      setNewStop({\n        name: stop.name,\n        address: stop.address,\n        // Regular times\n        morningPickupTime: stop.morningPickupTime || '',\n        afternoonDropoffTime: stop.afternoonDropoffTime || '',\n        // Friday times\n        fridayMorningPickupTime: stop.fridayMorningPickupTime || '',\n        fridayAfternoonDropoffTime: stop.fridayAfternoonDropoffTime || '',\n        // Early release times\n        earlyReleaseMorningPickupTime: stop.earlyReleaseMorningPickupTime || '',\n        earlyReleaseAfternoonDropoffTime: stop.earlyReleaseAfternoonDropoffTime || ''\n      });\n      setEditingStop(stopId);\n      setIsAddingStop(false);\n    }\n  };\n\n  // Mutations for stop management\n  const createStopMutation = useMutation({\n    mutationFn: async (stopData: any) => {\n      return apiRequest(`/api/driver/routes/${currentRouteId}/stops`, {\n        method: 'POST',\n        body: stopData\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/driver/routes', currentRouteId, 'stops'] });\n      toast({ title: 'Stop created successfully' });\n      setNewStop({ \n        name: '', \n        address: '', \n        morningPickupTime: '', \n        afternoonDropoffTime: '',\n        fridayMorningPickupTime: '',\n        fridayAfternoonDropoffTime: '',\n        earlyReleaseMorningPickupTime: '',\n        earlyReleaseAfternoonDropoffTime: ''\n      });\n      setIsAddingStop(false);\n    },\n    onError: (error: any) => {\n      toast({ title: 'Failed to create stop', description: error.message, variant: 'destructive' });\n    }\n  });\n  \n  const updateStopMutation = useMutation({\n    mutationFn: async ({ stopId, stopData }: { stopId: string; stopData: any }) => {\n      return apiRequest(`/api/driver/stops/${stopId}`, {\n        method: 'PUT',\n        body: stopData\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/driver/routes', currentRouteId, 'stops'] });\n      toast({ title: 'Stop updated successfully' });\n      setNewStop({ \n        name: '', \n        address: '', \n        morningPickupTime: '', \n        afternoonDropoffTime: '',\n        fridayMorningPickupTime: '',\n        fridayAfternoonDropoffTime: '',\n        earlyReleaseMorningPickupTime: '',\n        earlyReleaseAfternoonDropoffTime: ''\n      });\n      setEditingStop(null);\n    },\n    onError: (error: any) => {\n      toast({ title: 'Failed to update stop', description: error.message, variant: 'destructive' });\n    }\n  });\n\n  const deleteStopMutation = useMutation({\n    mutationFn: async (stopId: string) => {\n      return apiRequest(`/api/driver/stops/${stopId}`, {\n        method: 'DELETE'\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/driver/routes', currentRouteId, 'stops'] });\n      toast({ title: 'Stop deleted successfully' });\n    },\n    onError: (error: any) => {\n      toast({ title: 'Failed to delete stop', description: error.message, variant: 'destructive' });\n    }\n  });\n\n  const updateRouteMutation = useMutation({\n    mutationFn: async (routeData: { capacity: number }) => {\n      return apiRequest(`/api/routes/${currentRouteId}`, {\n        method: 'PUT',\n        body: routeData\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/routes', currentRouteId] });\n      queryClient.invalidateQueries({ queryKey: ['/api/routes'] });\n      toast({ title: 'Route updated successfully' });\n      setIsEditingRoute(false);\n    },\n    onError: (error: any) => {\n      toast({ title: 'Failed to update route', description: error.message, variant: 'destructive' });\n    }\n  });\n\n  const handleSaveStop = (stopId: string) => {\n    if (newStop.name && newStop.address && editingStop) {\n      updateStopMutation.mutate({\n        stopId: editingStop,\n        stopData: {\n          name: newStop.name,\n          address: newStop.address,\n          // Regular times\n          morningPickupTime: newStop.morningPickupTime || null,\n          afternoonDropoffTime: newStop.afternoonDropoffTime || null,\n          // Friday times\n          fridayMorningPickupTime: newStop.fridayMorningPickupTime || null,\n          fridayAfternoonDropoffTime: newStop.fridayAfternoonDropoffTime || null,\n          // Early release times\n          earlyReleaseMorningPickupTime: newStop.earlyReleaseMorningPickupTime || null,\n          earlyReleaseAfternoonDropoffTime: newStop.earlyReleaseAfternoonDropoffTime || null\n        }\n      });\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setEditingStop(null);\n    setNewStop({ \n      name: '', \n      address: '', \n      morningPickupTime: '', \n      afternoonDropoffTime: '',\n      fridayMorningPickupTime: '',\n      fridayAfternoonDropoffTime: '',\n      earlyReleaseMorningPickupTime: '',\n      earlyReleaseAfternoonDropoffTime: ''\n    });\n  };\n\n  const handleDeleteStop = (stopId: string) => {\n    deleteStopMutation.mutate(stopId);\n  };\n\n  const handleAddStop = () => {\n    if (newStop.name && newStop.address && currentRouteId) {\n      // Calculate next orders: morning in ascending order (1,2,3...), afternoon in descending order (3,2,1...)\n      const nextMorningOrder = Math.max(...stops.map((s: Stop) => s.morningOrder), 0) + 1;\n      const nextAfternoonOrder = nextMorningOrder; // For simplicity, reverse the order later\n      \n      createStopMutation.mutate({\n        name: newStop.name,\n        address: newStop.address,\n        morningOrder: nextMorningOrder,\n        afternoonOrder: nextAfternoonOrder,\n        // Regular times\n        morningPickupTime: newStop.morningPickupTime || null,\n        afternoonDropoffTime: newStop.afternoonDropoffTime || null,\n        // Friday times\n        fridayMorningPickupTime: newStop.fridayMorningPickupTime || null,\n        fridayAfternoonDropoffTime: newStop.fridayAfternoonDropoffTime || null,\n        // Early release times\n        earlyReleaseMorningPickupTime: newStop.earlyReleaseMorningPickupTime || null,\n        earlyReleaseAfternoonDropoffTime: newStop.earlyReleaseAfternoonDropoffTime || null\n      });\n    }\n  };\n\n  const handleSaveRoute = () => {\n    if (routeCapacity >= 1 && routeCapacity <= 50) { // Reasonable limits\n      updateRouteMutation.mutate({ capacity: routeCapacity });\n    }\n  };\n\n  const handleCancelRouteEdit = () => {\n    setRouteCapacity(route?.capacity || 14);\n    setIsEditingRoute(false);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Route Info Card */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2 text-lg\">\n              <MapPin className=\"w-5 h-5\" />\n              Route Configuration\n            </CardTitle>\n            <div className=\"flex items-center gap-2\">\n              <Button\n                size=\"sm\"\n                variant=\"outline\"\n                onClick={() => setIsEditingRoute(true)}\n                disabled={isEditingRoute}\n                data-testid=\"button-edit-route\"\n              >\n                <Edit className=\"w-4 h-4 mr-1\" />\n                Edit Route\n              </Button>\n              {onClose && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={onClose}\n                  data-testid=\"button-close-route-config\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </Button>\n              )}\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent>\n          {isLoading ? (\n            <div className=\"text-center py-4 text-muted-foreground\">Loading route information...</div>\n          ) : (\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm\">\n              <div>\n                <Label className=\"text-muted-foreground\">Route Name</Label>\n                <p className=\"font-medium\">{route?.name || routeName}</p>\n              </div>\n              <div>\n                <Label className=\"text-muted-foreground\">Van Capacity</Label>\n                {isEditingRoute ? (\n                  <div className=\"flex items-center gap-2 mt-1\">\n                    <Input\n                      type=\"number\"\n                      value={routeCapacity}\n                      onChange={(e) => setRouteCapacity(parseInt(e.target.value) || 14)}\n                      min=\"1\"\n                      max=\"50\"\n                      className=\"w-20\"\n                      data-testid=\"input-route-capacity\"\n                    />\n                    <span className=\"text-sm text-muted-foreground\">seats</span>\n                    <Button\n                      size=\"sm\"\n                      onClick={handleSaveRoute}\n                      disabled={updateRouteMutation.isPending}\n                      data-testid=\"button-save-route\"\n                    >\n                      <Save className=\"w-3 h-3\" />\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={handleCancelRouteEdit}\n                      disabled={updateRouteMutation.isPending}\n                      data-testid=\"button-cancel-route-edit\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </Button>\n                  </div>\n                ) : (\n                  <p className=\"font-medium\">{routeCapacity} seats</p>\n                )}\n              </div>\n              <div>\n                <Label className=\"text-muted-foreground\">Total Stops</Label>\n                <p className=\"font-medium\">{stops.length}</p>\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Stops Management */}\n      <Card>\n        <CardHeader className=\"pb-3\">\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"text-base\">Route Stops</CardTitle>\n            <Button\n              size=\"sm\"\n              onClick={() => setIsAddingStop(true)}\n              disabled={isAddingStop}\n              data-testid=\"button-add-stop\"\n            >\n              <Plus className=\"w-4 h-4 mr-1\" />\n              Add Stop\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {/* Add New Stop Form */}\n          {isAddingStop && (\n            <Card className=\"border-2 border-dashed\">\n              <CardContent className=\"pt-4\">\n                <div className=\"space-y-3\">\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                    <div>\n                      <Label htmlFor=\"new-stop-name\">Stop Name</Label>\n                      <Input\n                        id=\"new-stop-name\"\n                        placeholder=\"e.g., Main Street Plaza\"\n                        value={newStop.name}\n                        onChange={(e) => setNewStop(prev => ({ ...prev, name: e.target.value }))}\n                        data-testid=\"input-new-stop-name\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"new-stop-address\">Address</Label>\n                      <Input\n                        id=\"new-stop-address\"\n                        placeholder=\"e.g., 123 Main St, Frisco, TX\"\n                        value={newStop.address}\n                        onChange={(e) => setNewStop(prev => ({ ...prev, address: e.target.value }))}\n                        data-testid=\"input-new-stop-address\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <Label htmlFor=\"new-morning-time\">Morning Pickup</Label>\n                      <Input\n                        id=\"new-morning-time\"\n                        type=\"time\"\n                        value={newStop.morningPickupTime}\n                        onChange={(e) => setNewStop(prev => ({ ...prev, morningPickupTime: e.target.value }))}\n                        data-testid=\"input-new-morning-time\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"new-afternoon-time\">Afternoon Dropoff</Label>\n                      <Input\n                        id=\"new-afternoon-time\"\n                        type=\"time\"\n                        value={newStop.afternoonDropoffTime}\n                        onChange={(e) => setNewStop(prev => ({ ...prev, afternoonDropoffTime: e.target.value }))}\n                        data-testid=\"input-new-afternoon-time\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2 pt-2\">\n                    <Button\n                      size=\"sm\"\n                      onClick={handleAddStop}\n                      disabled={!newStop.name || !newStop.address}\n                      data-testid=\"button-save-new-stop\"\n                    >\n                      <Save className=\"w-4 h-4 mr-1\" />\n                      Save Stop\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => {\n                        setIsAddingStop(false);\n                        setNewStop({ \n                          name: '', \n                          address: '', \n                          morningPickupTime: '', \n                          afternoonDropoffTime: '',\n                          fridayMorningPickupTime: '',\n                          fridayAfternoonDropoffTime: '',\n                          earlyReleaseMorningPickupTime: '',\n                          earlyReleaseAfternoonDropoffTime: ''\n                        });\n                      }}\n                      data-testid=\"button-cancel-new-stop\"\n                    >\n                      <X className=\"w-4 h-4 mr-1\" />\n                      Cancel\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Existing Stops */}\n          <div className=\"space-y-3\">\n            {stops.map((stop: any, index: number) => (\n              <Card key={stop.id} className=\"relative\">\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-start gap-3\">\n                    <span className=\"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-mono\">\n                      {index + 1}\n                    </span>\n                    <div className=\"flex-1 space-y-2\">\n                      {editingStop === stop.id ? (\n                        // Edit Form\n                        <div className=\"space-y-3\">\n                          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                            <div>\n                              <Label htmlFor={`edit-stop-name-${stop.id}`}>Stop Name</Label>\n                              <Input\n                                id={`edit-stop-name-${stop.id}`}\n                                value={newStop.name}\n                                onChange={(e) => setNewStop(prev => ({ ...prev, name: e.target.value }))}\n                                data-testid={`input-edit-stop-name-${stop.id}`}\n                              />\n                            </div>\n                            <div>\n                              <Label htmlFor={`edit-stop-address-${stop.id}`}>Address</Label>\n                              <Input\n                                id={`edit-stop-address-${stop.id}`}\n                                value={newStop.address}\n                                onChange={(e) => setNewStop(prev => ({ ...prev, address: e.target.value }))}\n                                data-testid={`input-edit-stop-address-${stop.id}`}\n                              />\n                            </div>\n                          </div>\n                          <div className=\"grid grid-cols-2 gap-3\">\n                            <div>\n                              <Label htmlFor={`edit-morning-time-${stop.id}`}>Morning Pickup</Label>\n                              <Input\n                                id={`edit-morning-time-${stop.id}`}\n                                type=\"time\"\n                                value={newStop.morningPickupTime}\n                                onChange={(e) => setNewStop(prev => ({ ...prev, morningPickupTime: e.target.value }))}\n                                data-testid={`input-edit-morning-time-${stop.id}`}\n                              />\n                            </div>\n                            <div>\n                              <Label htmlFor={`edit-afternoon-time-${stop.id}`}>Afternoon Dropoff</Label>\n                              <Input\n                                id={`edit-afternoon-time-${stop.id}`}\n                                type=\"time\"\n                                value={newStop.afternoonDropoffTime}\n                                onChange={(e) => setNewStop(prev => ({ ...prev, afternoonDropoffTime: e.target.value }))}\n                                data-testid={`input-edit-afternoon-time-${stop.id}`}\n                              />\n                            </div>\n                          </div>\n                          <div className=\"flex gap-2 pt-2\">\n                            <Button\n                              size=\"sm\"\n                              onClick={() => handleSaveStop(stop.id)}\n                              disabled={!newStop.name || !newStop.address}\n                              data-testid={`button-save-edit-stop-${stop.id}`}\n                            >\n                              <Save className=\"w-4 h-4 mr-1\" />\n                              Save Changes\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={handleCancelEdit}\n                              data-testid={`button-cancel-edit-stop-${stop.id}`}\n                            >\n                              <X className=\"w-4 h-4 mr-1\" />\n                              Cancel\n                            </Button>\n                          </div>\n                        </div>\n                      ) : (\n                        // Display Mode\n                        <>\n                          <div className=\"flex items-start justify-between\">\n                            <div>\n                              <h4 className=\"font-medium\">{stop.name}</h4>\n                              <p className=\"text-sm text-muted-foreground\">{stop.address}</p>\n                            </div>\n                            <div className=\"flex gap-1\">\n                              <Button\n                                size=\"sm\"\n                                variant=\"ghost\"\n                                onClick={() => handleEditStop(stop.id)}\n                                data-testid={`button-edit-stop-${stop.id}`}\n                              >\n                                <Edit className=\"w-4 h-4\" />\n                              </Button>\n                              <Button\n                                size=\"sm\"\n                                variant=\"ghost\"\n                                onClick={() => handleDeleteStop(stop.id)}\n                                data-testid={`button-delete-stop-${stop.id}`}\n                              >\n                                <Trash2 className=\"w-4 h-4\" />\n                              </Button>\n                            </div>\n                          </div>\n                          <Separator />\n                          <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                            <div className=\"flex items-center gap-2\">\n                              <Clock className=\"w-4 h-4 text-muted-foreground\" />\n                              <span className=\"text-muted-foreground\">Morning:</span>\n                              <Badge variant=\"outline\" className=\"text-xs\">\n                                {stop.morningTime || 'Not set'}\n                              </Badge>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <Clock className=\"w-4 h-4 text-muted-foreground\" />\n                              <span className=\"text-muted-foreground\">Afternoon:</span>\n                              <Badge variant=\"outline\" className=\"text-xs\">\n                                {stop.afternoonTime || 'Not set'}\n                              </Badge>\n                            </div>\n                          </div>\n                        </>\n                      )}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          {stops.length === 0 && !isAddingStop && (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              <MapPin className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\n              <p>No stops configured yet</p>\n              <p className=\"text-sm\">Add your first stop to get started</p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":24683},"client/src/components/RouteMap.tsx":{"content":"import { MapPin, Navigation, Clock, Users } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { useQuery } from '@tanstack/react-query';\n\ninterface Student {\n  id: string;\n  name: string;\n  stop: string;\n  isPickedUp?: boolean;\n}\n\ninterface RouteMapProps {\n  routeName: string;\n  timeSlot: 'morning' | 'afternoon';\n  students: Student[];\n}\n\ninterface Stop {\n  id: string;\n  name: string;\n  address: string;\n  time: string;\n  students: Student[];\n  coordinates?: { lat: number; lng: number };\n}\n\nexport default function RouteMap({ routeName, timeSlot, students }: RouteMapProps) {\n  // Fetch routes data to get stops information\n  const { data: routesData, isLoading: routesLoading } = useQuery({\n    queryKey: ['/api/routes']\n  });\n\n  const routes = (routesData as any)?.routes || [];\n  \n  // Find the current route by name\n  const currentRoute = routes.find((route: any) => \n    routeName.includes(route.name)\n  );\n  \n  // Transform backend stops data for map display\n  const stops: Stop[] = (currentRoute?.stops || []).map((stop: any) => ({\n    id: stop.id,\n    name: stop.name,\n    address: stop.address || 'Address not available',\n    time: timeSlot === 'morning' ? stop.morningTime : stop.afternoonTime,\n    students: students.filter(s => s.stop === stop.name),\n    coordinates: { lat: 33.1507, lng: -96.8236 } // Default coordinates - would be dynamic in production\n  }));\n\n  if (routesLoading) {\n    return (\n      <div className=\"space-y-4\">\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"text-center\">Loading route map...</div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const totalStudents = students.length;\n  const pickedUpStudents = students.filter(s => s.isPickedUp).length;\n\n  const handleGetDirections = (address: string) => {\n    // Open in Google Maps for directions\n    const encodedAddress = encodeURIComponent(address);\n    const url = `https://www.google.com/maps/dir/?api=1&destination=${encodedAddress}`;\n    window.open(url, '_blank');\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Route Overview Card */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\n            <MapPin className=\"w-5 h-5\" />\n            Route Map & Navigation\n            <Badge variant=\"secondary\">{timeSlot}</Badge>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm\">\n            <div>\n              <span className=\"text-muted-foreground\">Route:</span>\n              <p className=\"font-medium\">{routeName}</p>\n            </div>\n            <div>\n              <span className=\"text-muted-foreground\">Students:</span>\n              <p className=\"font-medium\">{pickedUpStudents}/{totalStudents} picked up</p>\n            </div>\n            <div>\n              <span className=\"text-muted-foreground\">Stops:</span>\n              <p className=\"font-medium\">{stops.length} locations</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Map Placeholder */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">Interactive Map</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"aspect-video bg-muted rounded-lg flex items-center justify-center border-2 border-dashed\">\n            <div className=\"text-center text-muted-foreground\">\n              <MapPin className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\n              <p className=\"font-medium\">Interactive Map</p>\n              <p className=\"text-sm\">Map integration will show live route visualization</p>\n              <p className=\"text-xs mt-2\">GPS tracking and turn-by-turn navigation</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Stops List with Navigation */}\n      <div className=\"space-y-3\">\n        {stops.map((stop, index) => {\n          const pickedUpAtStop = stop.students.filter(s => s.isPickedUp).length;\n          const isCompleted = pickedUpAtStop === stop.students.length && stop.students.length > 0;\n          const isNext = pickedUpAtStop === 0 && stop.students.length > 0 && index === 0;\n          \n          return (\n            <Card key={stop.id} className={`relative ${isNext ? 'ring-2 ring-primary' : ''}`}>\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-start gap-3\">\n                  <span className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-mono ${\n                    isCompleted \n                      ? 'bg-green-500 text-white' \n                      : isNext \n                        ? 'bg-primary text-primary-foreground' \n                        : 'bg-muted text-muted-foreground'\n                  }`}>\n                    {index + 1}\n                  </span>\n                  \n                  <div className=\"flex-1 space-y-2\">\n                    <div className=\"flex items-start justify-between\">\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          <h4 className=\"font-medium\">{stop.name}</h4>\n                          {isNext && (\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              Next Stop\n                            </Badge>\n                          )}\n                          {isCompleted && (\n                            <Badge variant=\"outline\" className=\"text-xs text-green-600 border-green-600\">\n                              Complete\n                            </Badge>\n                          )}\n                        </div>\n                        <p className=\"text-sm text-muted-foreground\">{stop.address}</p>\n                      </div>\n                      \n                      <Button\n                        size=\"sm\"\n                        variant=\"outline\"\n                        onClick={() => handleGetDirections(stop.address)}\n                        data-testid={`button-directions-${stop.id}`}\n                        className=\"min-w-24\"\n                      >\n                        <Navigation className=\"w-4 h-4 mr-1\" />\n                        Navigate\n                      </Button>\n                    </div>\n                    \n                    <div className=\"flex items-center gap-4 text-sm\">\n                      <div className=\"flex items-center gap-1\">\n                        <Clock className=\"w-4 h-4 text-muted-foreground\" />\n                        <span>{stop.time}</span>\n                      </div>\n                      <div className=\"flex items-center gap-1\">\n                        <Users className=\"w-4 h-4 text-muted-foreground\" />\n                        <span>{pickedUpAtStop}/{stop.students.length} students</span>\n                      </div>\n                    </div>\n                    \n                    {/* Students at this stop */}\n                    {stop.students.length > 0 && (\n                      <div className=\"pt-2 border-t\">\n                        <div className=\"flex flex-wrap gap-1\">\n                          {stop.students.map(student => (\n                            <Badge\n                              key={student.id}\n                              variant={student.isPickedUp ? \"default\" : \"secondary\"}\n                              className={`text-xs ${\n                                student.isPickedUp \n                                  ? 'bg-green-500 text-white hover:bg-green-600' \n                                  : ''\n                              }`}\n                            >\n                              {student.name}\n                              {student.isPickedUp && ' ✓'}\n                            </Badge>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n\n      {/* Route Summary */}\n      <Card>\n        <CardContent className=\"p-4\">\n          <div className=\"text-center text-sm text-muted-foreground\">\n            <p>Estimated route time: ~30 minutes</p>\n            <p>Total distance: ~12 miles</p>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":8494},"client/src/components/SignupForm.tsx":{"content":"import { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Loader2 } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport sisuLogo from '@assets/Sisu_Logos-04_1759437158030.png';\n\ninterface SignupFormProps {\n  onSwitchToLogin: () => void;\n}\n\nexport default function SignupForm({ onSwitchToLogin }: SignupFormProps) {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const { login } = useAuth();\n  const { toast } = useToast();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!name || !email || !phone || !password || !confirmPassword) {\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      toast({\n        title: 'Passwords do not match',\n        description: 'Please make sure both passwords are the same.',\n        variant: 'destructive'\n      });\n      return;\n    }\n\n    if (password.length < 6) {\n      toast({\n        title: 'Password too short',\n        description: 'Password must be at least 6 characters long.',\n        variant: 'destructive'\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const response = await fetch('/api/auth/signup', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, email, phone, password })\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Failed to create account');\n      }\n\n      // Account created successfully - parent must wait for driver approval\n      toast({\n        title: 'Account created!',\n        description: data.message || 'Your account is pending driver approval. You will be able to log in once approved.',\n        duration: 8000,\n      });\n      \n      // Reset form and switch to login page\n      setName('');\n      setEmail('');\n      setPhone('');\n      setPassword('');\n      setConfirmPassword('');\n      setIsLoading(false);\n      \n      // Wait a moment for user to see the message, then switch to login\n      setTimeout(() => {\n        onSwitchToLogin();\n      }, 2000);\n    } catch (error: any) {\n      toast({\n        title: 'Signup failed',\n        description: error.message || 'Failed to create account. Please try again.',\n        variant: 'destructive'\n      });\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md space-y-6\">\n        {/* Header */}\n        <div className=\"text-center space-y-2\">\n          <div className=\"flex flex-col items-center justify-center gap-4 mb-6\">\n            <img src={sisuLogo} alt=\"SISU Soccer Academy\" className=\"h-32 w-auto\" />\n            <h2 className=\"text-xl font-bold\">Transportation System</h2>\n          </div>\n        </div>\n\n        {/* Signup Form */}\n        <Card>\n          <CardHeader className=\"space-y-1\">\n            <CardTitle className=\"text-xl\">Create parent account</CardTitle>\n            <CardDescription>\n              Register to book transportation for your students\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"name\">Full Name</Label>\n                <Input\n                  id=\"name\"\n                  type=\"text\"\n                  placeholder=\"John Smith\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-name\"\n                  className=\"min-h-11\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\">Email</Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"your@email.com\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-email\"\n                  className=\"min-h-11\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"phone\">Phone Number</Label>\n                <Input\n                  id=\"phone\"\n                  type=\"tel\"\n                  placeholder=\"(555) 123-4567\"\n                  value={phone}\n                  onChange={(e) => setPhone(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-phone\"\n                  className=\"min-h-11\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\">Password</Label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"Create a password (min 6 characters)\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-password\"\n                  className=\"min-h-11\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"confirmPassword\">Confirm Password</Label>\n                <Input\n                  id=\"confirmPassword\"\n                  type=\"password\"\n                  placeholder=\"Confirm your password\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-confirm-password\"\n                  className=\"min-h-11\"\n                />\n              </div>\n              <Button \n                type=\"submit\" \n                className=\"w-full min-h-11\"\n                disabled={isLoading || !name || !email || !phone || !password || !confirmPassword}\n                data-testid=\"button-signup\"\n              >\n                {isLoading ? (\n                  <>\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                    Creating account...\n                  </>\n                ) : (\n                  'Create Account'\n                )}\n              </Button>\n            </form>\n            \n            <div className=\"mt-4 text-center text-sm\">\n              <span className=\"text-muted-foreground\">Already have an account? </span>\n              <button\n                type=\"button\"\n                className=\"text-primary hover:underline font-normal\"\n                onClick={onSwitchToLogin}\n                data-testid=\"button-switch-to-login\"\n              >\n                Sign in\n              </button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":7459},"client/src/components/ParentApproval.tsx":{"content":"import { useState } from 'react';\nimport { useQuery, useMutation } from '@tanstack/react-query';\nimport { queryClient, apiRequest } from '@/lib/queryClient';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { UserCheck, UserX, Mail, Phone, Clock } from 'lucide-react';\nimport type { User } from '@shared/schema';\n\nexport default function ParentApproval() {\n  const { toast } = useToast();\n\n  const { data: pendingParentsData, isLoading } = useQuery<{ parents: User[] }>({\n    queryKey: ['/api/driver/pending-parents'],\n  });\n\n  const approveMutation = useMutation({\n    mutationFn: async (parentId: string) => {\n      return await apiRequest('PUT', `/api/driver/approve-parent/${parentId}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/driver/pending-parents'] });\n      toast({\n        title: 'Parent approved',\n        description: 'The parent account has been approved and can now log in.',\n      });\n    },\n    onError: () => {\n      toast({\n        title: 'Failed to approve',\n        description: 'Could not approve parent account. Please try again.',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  const rejectMutation = useMutation({\n    mutationFn: async (parentId: string) => {\n      return await apiRequest('PUT', `/api/driver/reject-parent/${parentId}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/driver/pending-parents'] });\n      toast({\n        title: 'Parent rejected',\n        description: 'The parent account has been rejected.',\n      });\n    },\n    onError: () => {\n      toast({\n        title: 'Failed to reject',\n        description: 'Could not reject parent account. Please try again.',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  const pendingParents = pendingParentsData?.parents || [];\n\n  if (isLoading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"max-w-4xl mx-auto space-y-4\">\n          <h1 className=\"text-3xl font-bold\">Parent Account Approvals</h1>\n          <div className=\"text-muted-foreground\">Loading pending accounts...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"max-w-4xl mx-auto space-y-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold\" data-testid=\"heading-parent-approval\">Parent Account Approvals</h1>\n          <p className=\"text-muted-foreground mt-2\">\n            Review and approve new parent account requests\n          </p>\n        </div>\n\n        {pendingParents.length === 0 ? (\n          <Card>\n            <CardContent className=\"p-12 text-center\">\n              <Clock className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n              <p className=\"text-lg font-medium\">No pending approvals</p>\n              <p className=\"text-muted-foreground mt-2\">\n                All parent accounts have been reviewed\n              </p>\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"space-y-4\">\n            {pendingParents.map((parent) => (\n              <Card key={parent.id} data-testid={`card-parent-${parent.id}`}>\n                <CardHeader className=\"pb-4\">\n                  <div className=\"flex items-start justify-between gap-4\">\n                    <div className=\"space-y-1\">\n                      <CardTitle className=\"text-xl\" data-testid={`text-parent-name-${parent.id}`}>\n                        {parent.name}\n                      </CardTitle>\n                      <CardDescription>\n                        Account created on {new Date(parent.createdAt).toLocaleDateString()}\n                      </CardDescription>\n                    </div>\n                    <Badge variant=\"secondary\" data-testid={`badge-status-${parent.id}`}>\n                      <Clock className=\"w-3 h-3 mr-1\" />\n                      Pending\n                    </Badge>\n                  </div>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid gap-3\">\n                    <div className=\"flex items-center gap-2 text-sm\">\n                      <Mail className=\"w-4 h-4 text-muted-foreground\" />\n                      <span className=\"font-medium\">Email:</span>\n                      <span className=\"text-muted-foreground\" data-testid={`text-parent-email-${parent.id}`}>\n                        {parent.email}\n                      </span>\n                    </div>\n                    {parent.phone && (\n                      <div className=\"flex items-center gap-2 text-sm\">\n                        <Phone className=\"w-4 h-4 text-muted-foreground\" />\n                        <span className=\"font-medium\">Phone:</span>\n                        <span className=\"text-muted-foreground\" data-testid={`text-parent-phone-${parent.id}`}>\n                          {parent.phone}\n                        </span>\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"flex gap-3 pt-2\">\n                    <Button\n                      onClick={() => approveMutation.mutate(parent.id)}\n                      disabled={approveMutation.isPending || rejectMutation.isPending}\n                      className=\"flex-1\"\n                      data-testid={`button-approve-${parent.id}`}\n                    >\n                      <UserCheck className=\"w-4 h-4 mr-2\" />\n                      Approve\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      onClick={() => rejectMutation.mutate(parent.id)}\n                      disabled={approveMutation.isPending || rejectMutation.isPending}\n                      className=\"flex-1\"\n                      data-testid={`button-reject-${parent.id}`}\n                    >\n                      <UserX className=\"w-4 h-4 mr-2\" />\n                      Reject\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":6259}},"version":1}